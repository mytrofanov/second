{"version":3,"sources":["components/Profile/Posts/Post/Post.module.css","components/Profile/Posts/Posts.module.css","assets/images/mask.jpg","components/Profile/Posts/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/Posts/ProfileInfo/ProfileForm.jsx","components/Profile/Posts/ProfileInfo/ProfileInfo.jsx","components/Profile/Posts/Post/Post.jsx","components/Profile/Posts/Posts.jsx","components/Profile/Posts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Profile/Posts/ProfileInfo/ProfileInfo.module.css"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","className","s","about","onDoubleClick","value","autoFocus","onChange","ev","currentTarget","onBlur","updateStatus","ProfileForm","profile","onSubmit","callEditMode","ProfileDataForm","useForm","register","setError","handleSubmit","profileError","formState","errors","error","loginPage","form","placeholder","fullName","defaultValue","aboutMe","type","lookingForAJobDescription","Object","keys","contacts","map","key","divName","inputName","editProfile","onClick","ProfileData","isOwner","lookingForAJob","contactTitle","contactValue","Contact","contact","ProfileInfo","savePhoto","saveProfileForm","mode","ava","photos","large","mask","container","src","overlay","bigPen","e","target","files","length","data","Post","item","message","item__like","count","discount","window","Posts","React","memo","push","postsElements","posts","reverse","p","addPost","newPost","post","NewPostForm","required","maxLength","MyPostsContainer","connect","state","profilePage","newPostText","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","history","getUserProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.8ca5807a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1Z1Ru\",\"item__like\":\"Post_item__like__1-Om7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Posts_block__1QzJn\",\"post\":\"Posts_post__3XPuN\",\"content\":\"Posts_content__1XJTm\",\"hookForm\":\"Posts_hookForm__Cm5PY\"};","export default __webpack_public_path__ + \"static/media/mask.cef09c37.jpg\";","import React, {useEffect, useState} from 'react';\r\nimport s from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n    const onStatusChange = (ev) => {\r\n        setStatus(ev.currentTarget.value)\r\n    }\r\n    useEffect(()=> {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    return (\r\n        <div className={s.status}>\r\n            {!editMode &&\r\n            <div>\r\n                  <span className={s.about} onDoubleClick={activateEditMode}>Статус: &nbsp;\r\n                      {props.status||\"-------\"}  </span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input className={s.about} value={status}\r\n                       autoFocus={true} onChange={onStatusChange}\r\n                       onBlur={deactivateEditMode}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React, {useState} from \"react\";\r\nimport s from \"./ProfileInfo.module.css\";\r\nimport {useForm} from \"react-hook-form\";\r\n\r\nexport const ProfileForm = ({profile, onSubmit, callEditMode}) => {\r\n\r\n\r\n    return <div>\r\n        <ProfileDataForm profile={profile} onSubmit={onSubmit} callEditMode={callEditMode}/>\r\n    </div>\r\n}\r\n\r\nexport const ProfileDataForm = ({onSubmit, profile, callEditMode}) => {\r\n\r\n    const inputCreator = (divName, inputName, placeholder) => {\r\n        return <div>\r\n            {divName} : <input {...register(inputName)} placeholder={placeholder} defaultValue={placeholder}/>\r\n\r\n        </div>\r\n    }\r\n\r\n    const {\r\n        setError,\r\n        register, handleSubmit,\r\n        formState: {errors}\r\n    } = useForm();\r\n\r\n    const profileError = profile.error;\r\n\r\n\r\n    return (\r\n        <div className={s.loginPage}>\r\n            <form className={s.form} onSubmit={handleSubmit(onSubmit)}>\r\n\r\n                <div>\r\n                    <div>Имя: <input {...register(\"fullName\")} placeholder={profile.fullName}\r\n                                     defaultValue={profile.fullName}/></div>\r\n                    <div>Обо мне: <input {...register(\"aboutMe\")} placeholder={profile.aboutMe}\r\n                                         defaultValue={profile.aboutMe}/></div>\r\n                    <div>Ищу работу: <input {...register(\"lookingForAJob\")} type=\"checkbox\"/></div>\r\n                    <div>Мои навыки: <input {...register(\"lookingForAJobDescription\")}\r\n                                            placeholder={profile.lookingForAJobDescription}\r\n                                            defaultValue={profile.lookingForAJobDescription}/></div>\r\n                    <b>Контакты:</b>\r\n                    {Object.keys(profile.contacts).map(key => {\r\n                        return < div key={key}>\r\n                            {inputCreator(key, \"contacts.\" + key, profile.contacts[key])}\r\n                        < /div>\r\n                    })\r\n                    }\r\n                </div>\r\n\r\n                <input className={s.editProfile} type=\"submit\" value=\"💾 Save\"/>\r\n                <button className={s.editProfile} onClick={callEditMode}><b>↪</b> Вернуться без изменений</button>\r\n                <div className={s.profileError}>\r\n                    {profileError && profileError}\r\n                </div>\r\n\r\n\r\n            </form>\r\n\r\n        </div>\r\n    )\r\n}","import React, {useState} from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../../common/preloader/preloader\";\r\nimport mask from \"./../../../../assets/images/mask.jpg\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport {ProfileForm} from \"./ProfileForm\";\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus, isOwner, savePhoto, saveProfileForm, setEditMode, editMode}) => {\r\n\r\n    const callEditMode = (mode) => {\r\n        setEditMode(mode)\r\n    }\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n    const ava = !profile.photos.large ? mask : profile.photos.large;\r\n    //подставляю маску вместо аватарки если ее нет у юзера\r\n\r\n    const selectPhoto = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n    const onSubmit = (data) => {\r\n        saveProfileForm(data)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.ProfileInfo}>\r\n                <div className={s.container}>\r\n                    <img className={s.about} src={ava}/>\r\n                    {isOwner && <div className={s.overlay}>🖋</div>}\r\n                    {isOwner && <input type={\"file\"} className={s.bigPen} onChange={selectPhoto}/>}\r\n\r\n                </div>\r\n                <div className={s.status}>\r\n                    <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n                </div>\r\n                {editMode ? <ProfileForm profile={profile} onSubmit={onSubmit} callEditMode={() => {\r\n                        callEditMode(false)\r\n                    }}/> :\r\n                    <ProfileData profile={profile} isOwner={isOwner} setEditMode={() => {\r\n                        callEditMode(true)\r\n                    }}/>\r\n                }\r\n\r\n\r\n            </div>\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\n\r\n\r\nconst ProfileData = ({profile, isOwner, setEditMode}) => {\r\n\r\n    return <div className={s.ProfileData}>\r\n        <div className={s.about}>\r\n            Имя: {profile.fullName}\r\n        </div>\r\n        <div className={s.about}>\r\n            О мне: {profile.aboutMe}\r\n        </div>\r\n        <div className={s.about}>\r\n            Ищу работу: {profile.lookingForAJob ? \"yes\" : \"no\"}\r\n\r\n            <div className={s.about}>\r\n                Professional skills: {profile.lookingForAJobDescription}</div>\r\n        </div>\r\n        <div>\r\n            <b>Контакты:</b>\r\n            {Object.keys(profile.contacts).map(key => {\r\n                return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\r\n            })\r\n            }\r\n        </div>\r\n        {isOwner && <button className={s.editProfile} onClick={() => {\r\n            setEditMode(true)\r\n        }}> 🛠 Редактировать профиль</button>}\r\n        <div className={s.profileError}>\r\n            {profile.error && profile.error}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n    return <div className={s.contact}>{contactTitle}: {contactValue}</div>\r\n}\r\n\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css'\r\n\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={s.item}>\r\n                <img src='https://i.insider.com/5de2ca2b79d7577f925703f2?width=1124&format=jpeg'/>\r\n                {props.message}\r\n            </div>\r\n            <div className={s.item__like}> {props.count} Like\r\n                <span>  {props.discount} Dislike</span>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Post;","    import React from 'react';\r\n    import Post from './Post/Post';\r\n    import s from './Posts.module.css'\r\n    import {useForm} from \"react-hook-form\";\r\n\r\n    window.props = [];\r\n    const Posts = React.memo(props => {\r\n\r\n\r\n\r\n        window.props.push(props);\r\n\r\n        let postsElements =\r\n            [...props.posts].reverse().map(p => <Post message={p.message} count={p.count} discount={p.discount}/>)\r\n\r\n        let newPostElement = React.createRef();\r\n\r\n\r\n        let addNewPost = (value) => {\r\n            props.addPost(value.newPost);\r\n\r\n        }\r\n\r\n        return (\r\n\r\n            <div>\r\n\r\n                <div>\r\n                    <NewPostForm onSubmit={addNewPost}/>\r\n                </div>\r\n\r\n                <div className={s.post}> New Posts</div>\r\n\r\n                {postsElements}\r\n\r\n            </div>\r\n        )\r\n    });\r\n\r\n    export default Posts;\r\n\r\n\r\n    export const NewPostForm = (props) => {\r\n\r\n        const {\r\n            register, handleSubmit,\r\n            formState: {errors}\r\n        } = useForm();\r\n        const onSubmit = data => props.onSubmit(data);\r\n        return (\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <input {...register(\"newPost\", {required: true, maxLength: 30}\r\n                )} placeholder=\"enter your post\"/>\r\n                <input type=\"Submit\" value=\"Send Message\"/>\r\n                {errors?.newPost?.type === \"required\" && <span>This field is required</span>}\r\n                {errors?.newPost?.type === \"maxLength\" && (\r\n                    <span>This field cannot exceed 30 characters</span>\r\n                )}\r\n            </form>\r\n        );\r\n    }","import React from 'react';\r\nimport {addPostActionCreator, updateNewPostTextActionCreator} from \"../../../Redux/profile-reducer\";\r\nimport Posts from \"./Posts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPost) => {\r\n            dispatch(addPostActionCreator(newPost));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(Posts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport ProfileInfo from \"./Posts/ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./Posts/MyPostsContainer\";\r\nimport {saveProfileForm} from \"../../Redux/profile-reducer\";\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile}\r\n                         status={props.status}\r\n                         updateStatus={props.updateStatus}\r\n                         isOwner ={props.isOwner}\r\n                         savePhoto ={props.savePhoto}\r\n                         saveProfileForm={props.saveProfileForm}\r\n                         setEditMode={props.setEditMode}\r\n                         editMode={props.editMode}\r\n                        />\r\n            <MyPostsContainer  />\r\n\r\n        </div>)\r\n}\r\n\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getStatus,\r\n    getUserProfile,\r\n    savePhoto,\r\n    saveProfileForm, setEditMode, updateStatus\r\n} from \"../../Redux/profile-reducer\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if ( this.props.match.params.userId !=  prevProps.match.params.userId)\r\n        {\r\n            this.refreshProfile();\r\n        }//если юзер меняется то обновляем компоненту profile\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <Profile {...this.props} profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n                     isOwner={!this.props.match.params.userId}\r\n                     savePhoto={this.props.savePhoto}\r\n                     saveProfileForm={this.props.saveProfileForm}\r\n                     setEditMode={this.props.setEditMode}\r\n                     editMode={this.props.editMode}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n    editMode:state.profilePage.editMode\r\n\r\n});\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        getUserProfile, getStatus,\r\n        updateStatus, savePhoto, saveProfileForm, setEditMode\r\n    }),\r\n    withRouter\r\n)(ProfileContainer);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileInfo\":\"ProfileInfo_ProfileInfo__1sTIE\",\"container\":\"ProfileInfo_container__Kgsjo\",\"post\":\"ProfileInfo_post__3LuEM\",\"block\":\"ProfileInfo_block__LPby2\",\"about\":\"ProfileInfo_about__2NwIA\",\"ProfileData\":\"ProfileInfo_ProfileData__1ANgo\",\"profileError\":\"ProfileInfo_profileError__2Eb3M\",\"editProfile\":\"ProfileInfo_editProfile__3Gc7q\",\"status\":\"ProfileInfo_status__2kigG\",\"contact\":\"ProfileInfo_contact__326AJ\",\"overlay\":\"ProfileInfo_overlay__2R4rV\",\"bigPen\":\"ProfileInfo_bigPen__lSlba\"};"],"sourceRoot":""}