{"version":3,"sources":["components/Navbar/Navbar.module.css","components/Dialogs/Dialogs.module.css","components/Friends/friends.module.css","components/Login/login.module.css","assets/images/Spin-1s-200px.svg","components/common/preloader/preloader.js","utils/object-helpers.js","Redux/users-reducer.ts","components/common/preloader/Preloader.module.css","components/Header/Header.module.css","components/Sidebar/Sidebar.module.css","Redux/profile-reducer.ts","assets/images/user.png","Redux/usersSelectors.ts","components/News/News.module.css","components/Music/Music.module.css","components/Settings/Settings.module.css","API/api.js","Redux/auth-reducer.ts","Redux/friendsSelectors.js","Redux/sidebar-reducer.ts","components/Friends/Friend.tsx","components/Friends/Friends.tsx","components/Sidebar/Sidebar.jsx","hoc/withAuthRedirect.js","components/Friends/FriendsContainer.tsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","Redux/dialogs-reducer.ts","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx","components/Header/Header.jsx","assets/images/Screenshot_1.jpg","components/Header/HeaderContainer.jsx","components/Login/login.jsx","Redux/app-reducer.ts","Redux/redux-store.ts","App.js","index.js"],"names":["module","exports","Preloader","className","s","loaderBlock","loader","alt","img","src","preloader","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","userId","type","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","page","dispatch","a","usersAPI","getUsers","data","totalCount","count","followUnfollowFlow","apiMethod","actionCreator","resultCode","follow","bind","unfollow","unFollow","usersReducers","state","action","followed","filter","id","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","SET_PHOTO","SET_PROFILE_ERROR","SET_EDIT_MODE","posts","message","discount","profile","editMode","status","error","addPostActionCreator","newPost","setStatus","savePhotoSuccess","photos","saveProfileError","setEditMode","getUserProfile","getProfile","response","getStatus","profileAPI","updateStatus","saveProfileForm","getState","auth","saveProfile","messages","savePhoto","file","profileReducer","p","usersPage","getPageSize","getCurrentPage","getIsFetching","getFollowingInProgress","instance","axios","withCredentials","headers","baseURL","get","then","getFriends","currentFriendsPage","friendsPageSize","delete","post","console","warn","put","catch","log","request","formData","FormData","append","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptureUrl","sidebar","friends","getFriendsPageSize","getCurrentFriendsPage","getTotalFriendsCount","totalFriendsCount","SET_FRIENDS","SET_CURRENT_FRIENDS_PAGE","SET_TOTAL_FRIENDS_COUNT","setFriends","newFriends","setCurrentFriendsPage","sidebarReducer","Friend","friend","name","to","small","userPhoto","usersPhoto","Friends","friendsBlock","undefined","slice","Sidebar","onFriendsPageChanged","mapStateToPropsForRedirect","isAuth","withAuthRedirect","Component","RedirectComponent","this","props","React","connect","FriendsContainer","refreshFriends","prevProps","prevState","snapshot","compose","Navbar","nav","item","activeClassName","activeLink","News","newsBlock","Music","blockMusic","Settings","settings","SEND_MESSAGE","dialogs","ava","dialogsReducer","body","newMessageBody","DialogItem","path","dialog","active","avatar","Message","Dialogs","dialogsPage","dialogsElements","d","messagesElements","m","block","dialogsItem","onSubmit","values","sendMessage","AddMessageForm","useForm","register","handleSubmit","errors","formState","required","maxLength","placeholder","value","messagesPage","sendMessageCreator","Header","header","logo","loginBlock","onClick","logoutReducer","SET_USER_DATA","SET_AUTH_ERROR","SET_CAPTCHA_URL","authError","captureURL","setAuthUserData","payload","setAuthError","errorMessage","setCaptchaURL","getAuthUserData","url","authReducer","HeaderContainer","LoginForm","onChange","loginPage","form","testAccount","loginReducer","length","SET_INITIALIZED","initialized","appReducer","rootReducer","combineReducers","profilePage","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","UsersContainer","lazy","ProfileContainer","App","initializeApp","document","title","Suspense","fallback","exact","render","DialogsContainer","pageTitle","AppContainer","withRouter","SamuraiJSApp","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.72ec83d3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1FSrB\",\"item\":\"Navbar_item__1rl86\",\"activeLink\":\"Navbar_activeLink__ts9gE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1Djbj\",\"dialogsItem\":\"Dialogs_dialogsItem__3DzM3\",\"active\":\"Dialogs_active__32bNv\",\"dialog\":\"Dialogs_dialog__237Y_\",\"messages\":\"Dialogs_messages__2Cs9I\",\"message\":\"Dialogs_message__CWbLQ\",\"ava\":\"Dialogs_ava__28zLj\",\"block\":\"Dialogs_block__3qSSS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsBlock\":\"friends_friendsBlock__2DjA8\",\"friend\":\"friends_friend__3GccG\",\"friends\":\"friends_friends__2r2YN\",\"usersPhoto\":\"friends_usersPhoto__1SsCU\",\"startAndEnd\":\"friends_startAndEnd__2nGg8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginPage\":\"login_loginPage__3a48g\",\"loginBlock\":\"login_loginBlock__U9-iG\",\"loginForm\":\"login_loginForm__29O8y\",\"form\":\"login_form__19Jav\",\"error\":\"login_error__110zK\",\"testAccount\":\"login_testAccount__10JZu\"};","export default __webpack_public_path__ + \"static/media/Spin-1s-200px.424ecdff.svg\";","import React from \"react\";\r\nimport preloader from  \"../../../assets/images/Spin-1s-200px.svg\";\r\nimport s from \"./Preloader.module.css\"\r\n\r\nlet Preloader = () => {\r\nreturn <div className={s.loaderBlock}>\r\n     <div className={s.loader}>\r\n     <img alt={\"preloader\"} className={s.img} src={preloader} />\r\n     </div>\r\n</div>\r\n}\r\n\r\nexport default Preloader;","export  const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u.[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n\r\n}\r\n\r\n","import {usersAPI} from \"../API/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\nimport {UsersType} from \"../types/Types\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [] as Array<UsersType>,\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [] as Array<number>\r\n};\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nconst usersReducers = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n\r\n                // users: state.users.map(u => {\r\n                //     if (u.id === action.userId) {\r\n                //         return {...u, followed: true}\r\n                //     }\r\n                //     return u;\r\n                // })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n                // users: state.users.map(u => {\r\n                //     if (u.id === action.userId) {\r\n                //         return {...u, followed: false}\r\n                //     }\r\n                //     return u;\r\n                // })\r\n            }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\ntype FollowSuccessType = {\r\n    type: typeof FOLLOW\r\n    userId: number\r\n}\r\nexport const followSuccess = (userId: number): FollowSuccessType => ({type: FOLLOW, userId})\r\ntype unfollowSuccessType = {\r\n    type: typeof UNFOLLOW\r\n    userId: number\r\n}\r\nexport const unfollowSuccess = (userId: number): unfollowSuccessType => ({type: UNFOLLOW, userId})\r\ntype setUsersType = {\r\n    type: typeof SET_USERS\r\n    users: Array<UsersType>\r\n}\r\nexport const setUsers = (users: Array<UsersType>): setUsersType => ({type: SET_USERS, users})\r\n\r\ntype setCurrentPageType = {\r\n    type: typeof SET_CURRENT_PAGE\r\n    currentPage: number\r\n}\r\nexport const setCurrentPage = (currentPage: number): setCurrentPageType => ({type: SET_CURRENT_PAGE, currentPage})\r\n\r\ntype setTotalUsersCountType = {\r\n    type: typeof SET_TOTAL_USERS_COUNT\r\n    count: number\r\n}\r\nexport const setTotalUsersCount = (totalUsersCount: number): setTotalUsersCountType =>\r\n    ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\r\n\r\ntype toggleIsFetchingType = {\r\n    type: typeof TOGGLE_IS_FETCHING\r\n    isFetching: boolean\r\n    }\r\nexport const toggleIsFetching = (isFetching:boolean):toggleIsFetchingType => ({type: TOGGLE_IS_FETCHING, isFetching})\r\n\r\ntype toggleFollowingProgressType = {\r\n    type: typeof TOGGLE_IS_FOLLOWING_PROGRESS\r\n    isFetching: boolean\r\n    userId: number\r\n}\r\nexport const toggleFollowingProgress = (isFetching:boolean, userId:number):toggleFollowingProgressType => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId\r\n})\r\n\r\nexport const requestUsers = (page:number, pageSize:number) => {\r\n    return async (dispatch:any) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page))\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n        dispatch(setCurrentPage(page));\r\n    }\r\n}\r\n\r\n\r\nconst followUnfollowFlow = async (dispatch:any, userId:number, apiMethod:any, actionCreator:any) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\n\r\nexport const follow = (userId:number) => {\r\n    return async (dispatch:any) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId:number) => {\r\n    return async (dispatch:any) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unFollow.bind(usersAPI), unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducers;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Preloader_loader__1zNIO\",\"loaderBlock\":\"Preloader_loaderBlock__3jIUY\",\"img\":\"Preloader_img__AVukO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2jco9\",\"loginBlock\":\"Header_loginBlock__5hlhJ\",\"logo\":\"Header_logo__2ezO8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Sidebar\":\"Sidebar_Sidebar__1CPdP\",\"friends\":\"Sidebar_friends__2lPWL\"};","import {profileAPI, usersAPI} from \"../API/api\";\r\nimport {PhotosType, ProfileType} from \"../types/Types\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst SET_PHOTO = 'SET_PHOTO';\r\nconst SET_PROFILE_ERROR = 'SET_PROFILE_ERROR';\r\nconst SET_EDIT_MODE = 'SET_EDIT_MODE';\r\n\r\ntype PostsType = {\r\n    id: number\r\n    message: string\r\n    count: number\r\n    discount: number\r\n}\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'First post', count: 5, discount: 0},\r\n        {id: 2, message: 'Second post', count: 7, discount: 1},\r\n        {id: 3, message: 'Third post', count: 8, discount: 10},\r\n        {id: 4, message: 'Forth post', count: 9, discount: 4},\r\n        {id: 5, message: 'Fifth post', count: 10, discount: 2},\r\n        {id: 6, message: 'Six post', count: 11, discount: 3},\r\n        {id: 7, message: 'Seven post', count: 14, discount: 4},\r\n        {id: 8, message: 'Eight post', count: 15, discount: 2},\r\n        {id: 9, message: 'Nine post', count: 7, discount: 2}\r\n    ] as Array <PostsType>,\r\n    profile: null as ProfileType | null,\r\n    editMode: false,\r\n    status: \"\" as string,\r\n    error: \"\" as string\r\n};\r\ntype InitialStateType = typeof initialState\r\n\r\nconst profileReducer = (state = initialState, action:any):InitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 10,\r\n                message: action.newPost,\r\n                count: 0, discount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.id)\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n        case SET_PHOTO: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos} as ProfileType\r\n            };\r\n        }\r\n        case SET_PROFILE_ERROR: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, error: action.error} as ProfileType\r\n            };\r\n        }\r\n        case SET_EDIT_MODE: {\r\n            return {\r\n                ...state,\r\n                editMode: action.editMode\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\ntype AddPostActionCreatorType = {\r\n    type: typeof ADD_POST\r\n    newPost: string\r\n}\r\nexport const addPostActionCreator = (newPost:string):AddPostActionCreatorType => ({type: ADD_POST, newPost})\r\n\r\ntype DeletePostType = {\r\n    type: typeof DELETE_POST\r\n    id: number\r\n}\r\nexport const deletePost = (id:number):DeletePostType => ({type: DELETE_POST, id})\r\n\r\ntype SetUserProfileType = {\r\n    type: typeof SET_USER_PROFILE\r\n    profile: ProfileType\r\n}\r\nexport const setUserProfile = (profile:ProfileType):SetUserProfileType => ({type: SET_USER_PROFILE, profile})\r\n\r\ntype SetStatusType = {\r\n    type: typeof SET_STATUS\r\n    status: string\r\n}\r\nexport const setStatus = (status:string):SetStatusType => ({type: SET_STATUS, status})\r\n\r\ntype savePhotoSuccessType = {\r\n    type: typeof SET_PHOTO\r\n    photos: PhotosType\r\n}\r\nexport const savePhotoSuccess = (photos: PhotosType) => ({type: SET_PHOTO, photos})\r\n\r\ntype saveProfileErrorType = {\r\n    type: typeof SET_PROFILE_ERROR\r\n    error: string\r\n}\r\nexport const saveProfileError = (error:string):saveProfileErrorType => ({type: SET_PROFILE_ERROR, error})\r\n\r\ntype setEditModeType = {\r\n    type: typeof SET_EDIT_MODE\r\n    editMode: boolean\r\n}\r\nexport const setEditMode = (editMode:boolean):setEditModeType => ({type: SET_EDIT_MODE, editMode})\r\n\r\nexport const getUserProfile = (userId:number) => async (dispatch:any) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n}\r\nexport const getStatus = (userId:number) => async (dispatch:any) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n}\r\nexport const updateStatus = (status:string) => async (dispatch:any) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\nexport const saveProfileForm = (profile:ProfileType) => async (dispatch:any, getState:any) => {\r\n    let userId = getState().auth.userId\r\n    let response = await profileAPI.saveProfile(profile);\r\n    if (response.status === 500) {\r\n        dispatch(saveProfileError(\"Ошибка сервера.Статус: \" + response.status + \"  Сообщение сервера:  \" +\r\n            response.data.message))\r\n    }\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n        dispatch(setEditMode(false));\r\n    }\r\n    if (response.data.resultCode === 1) {\r\n        dispatch(saveProfileError(response.data.messages))\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport const savePhoto = (file:any) => async (dispatch:any) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        let photos = response.data.data.photos;\r\n        dispatch(savePhotoSuccess(photos));\r\n    }\r\n}\r\n\r\n\r\nexport default profileReducer;","export default __webpack_public_path__ + \"static/media/user.96e310a6.png\";","import {AppStateType} from \"./redux-store\";\r\n\r\nexport const getUsers = (state:AppStateType) => {\r\n    return state.usersPage.users;\r\n}\r\nexport const getPageSize = (state:AppStateType) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getCurrentPage = (state:AppStateType) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const totalUsersCount = (state:AppStateType) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getIsFetching = (state:AppStateType) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state:AppStateType) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newsBlock\":\"News_newsBlock__ShQ5k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"blockMusic\":\"Music_blockMusic__2Xd5Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__3ZQJn\"};","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\"API-KEY\": \"7d870823-54dd-449f-8b28-49f59a10c313\"},\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`\r\n})\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n\r\n    getFriends(currentFriendsPage = 1, friendsPageSize = 10, followed = true) {\r\n        return instance.get(`users?page=${currentFriendsPage}&count=${friendsPageSize}&friend=${followed}`)\r\n    },\r\n\r\n// в delete параметр withCredentials отправляется вторым\r\n    unFollow(id) {\r\n        return instance.delete(`follow/${id}`)\r\n    },\r\n\r\n// в post параметр withCredentials отправляется третьим\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`)\r\n    },\r\n\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method.Please use profileApi')\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put('profile/status', {status: status})\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile )\r\n            .catch(function (error) {\r\n                if (error.response) {\r\n                    // Request made and server responded\r\n                    console.log(\"data:\" , error.response.data);\r\n                    console.log(\"status:\" , error.response.status);\r\n                    console.log(\"headers:\" , error.response.headers);\r\n                    return error.response\r\n                } else if (error.request) {\r\n                    // The request was made but no response was received\r\n                    console.log(\"request:\" , error.request);\r\n                } else {\r\n                    // Something happened in setting up the request that triggered an Error\r\n                    console.log(\"Error-message:\", error.message);\r\n                }\r\n\r\n            });\r\n\r\n    },\r\n    savePhoto(file) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", file);\r\n\r\n        return instance.put('profile/photo', formData, {\r\n            headers: {\r\n                'Content-type': 'multipart/form-data'\r\n                //файл отправляем тремя параметрами\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false, captcha) {\r\n        return instance.post('auth/login', {email, password, rememberMe, captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login')\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptureUrl(){\r\n        return instance.get(`security/get-captcha-url`);\r\n    }\r\n}","import {authAPI, securityAPI} from \"../API/api\";\r\n\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\r\nconst SET_AUTH_ERROR = 'SET_AUTH_ERROR';\r\nconst SET_CAPTCHA_URL = 'SET_CAPTCHA_URL';\r\n\r\nlet initialState: { isAuth: boolean; authError: string | number | null; login: null | string; userId: number | null; email: string | null; captureURL: string | null };\r\ninitialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    authError: null,\r\n    captureURL: null\r\n};\r\n\r\nexport type initialStateType = typeof initialState;\r\n\r\nconst authReducer = (state = initialState, action: any): initialStateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state;\r\n        case SET_AUTH_ERROR:\r\n            return {\r\n                ...state,\r\n                authError: action.errorMessage\r\n            }\r\n        case SET_CAPTCHA_URL:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n    }\r\n}\r\ntype SetAuthUserDataActionPayloadType = {\r\n    userId: number | null,\r\n    email: string | null,\r\n    login: string | null,\r\n    isAuth: boolean\r\n}\r\n\r\ntype SetAuthUserDataActionType = {\r\n    type: typeof SET_USER_DATA,\r\n    payload: SetAuthUserDataActionPayloadType\r\n}\r\ntype  setAuthErrorType = {\r\n    type: typeof SET_AUTH_ERROR,\r\n    errorMessage: string|null\r\n}\r\ntype setCaptchaURLType = {\r\n    type: typeof SET_CAPTCHA_URL,\r\n    payload: {captureURL: string}\r\n}\r\n\r\nexport const setAuthUserData = (userId: number | null, email: string | null,\r\n                                login: string | null, isAuth: boolean): SetAuthUserDataActionType =>\r\n    ({type: SET_USER_DATA, payload: {userId, email, login, isAuth}})\r\n\r\nexport const setAuthError = (errorMessage:string|null):setAuthErrorType =>\r\n    ({type: SET_AUTH_ERROR, errorMessage})\r\n\r\nexport const setCaptchaURL = (captureURL:string):setCaptchaURLType =>\r\n    ({type: SET_CAPTCHA_URL, payload: {captureURL}})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\n\r\nexport const loginReducer = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n    const errorMessage = response.data.messages.length > 0 && response.data.messages[0];\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n        dispatch(setAuthError(''))\r\n        dispatch(setCaptchaURL(''));\r\n    }\r\n    if (response.data.resultCode === 10) {\r\n        dispatch(getCaptureUrl())\r\n        dispatch(setAuthError(errorMessage))\r\n    } else {\r\n        dispatch(setAuthError(errorMessage))\r\n    }\r\n}\r\n\r\nexport const logoutReducer = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport const getCaptureUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptureUrl();\r\n    const captureURL = response.data.url;\r\n    dispatch(setCaptchaURL(captureURL));\r\n\r\n\r\n}\r\n\r\nexport default authReducer;\r\n\r\n","export const getFriends = (state) => {\r\n    return state.sidebar.friends;\r\n}\r\nexport const getFriendsPageSize = (state) => {\r\n    return state.sidebar.friendsPageSize;\r\n}\r\nexport const getCurrentFriendsPage = (state) => {\r\n    return state.sidebar.currentFriendsPage;\r\n}\r\n\r\nexport const getTotalFriendsCount = (state) => {\r\n    return state.sidebar.totalFriendsCount;\r\n}\r\n\r\n","import {usersAPI} from \"../API/api\";\r\nimport {toggleIsFetching} from \"./users-reducer\";\r\nimport {FriendsType} from \"../types/Types\";\r\n\r\nconst SET_FRIENDS = 'SET_FRIENDS';\r\nconst SET_CURRENT_FRIENDS_PAGE = 'SET_CURRENT_FRIENDS_PAGE';\r\nconst SET_TOTAL_FRIENDS_COUNT = 'SET_TOTAL_FRIENDS_COUNT';\r\n\r\n\r\n\r\nlet initialState = {\r\n    friends: [] as Array<FriendsType>,\r\n    friendsPageSize: 3,\r\n    totalFriendsCount: 0,\r\n    currentFriendsPage: 1\r\n};\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nconst sidebarReducer = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_FRIENDS: {\r\n            return {...state, friends: action.newFriends} as InitialStateType\r\n        }\r\n        case SET_CURRENT_FRIENDS_PAGE: {\r\n            return {...state, currentFriendsPage: action.currentFriendsPage}\r\n        }\r\n        case SET_TOTAL_FRIENDS_COUNT: {\r\n            return {...state, totalFriendsCount: action.totalFriendsCount}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype SetFriendsType = {\r\n    type: typeof SET_FRIENDS\r\n    newFriends: Array<FriendsType>\r\n}\r\nexport const setFriends = (newFriends: Array<FriendsType>): SetFriendsType =>\r\n    ({type: SET_FRIENDS, newFriends})\r\n\r\ntype SetCurrentFriendsPageType = {\r\n    type: typeof SET_CURRENT_FRIENDS_PAGE\r\n    currentFriendsPage: number\r\n}\r\nexport const setCurrentFriendsPage = (currentFriendsPage: number): SetCurrentFriendsPageType =>\r\n    ({type: SET_CURRENT_FRIENDS_PAGE, currentFriendsPage})\r\n\r\n\r\ntype SetTotalFriendsCountType = {\r\n    type: typeof SET_TOTAL_FRIENDS_COUNT\r\n    totalFriendsCount: number\r\n}\r\nexport const setTotalFriendsCount = (totalFriendsCount: number): SetTotalFriendsCountType => ({\r\n    type: SET_TOTAL_FRIENDS_COUNT,\r\n    totalFriendsCount\r\n})\r\n\r\nexport const requestFriends = (currentFriendsPage: number, friendsPageSize: number, followed: boolean) => {\r\n    return async (dispatch: any) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentFriendsPage(currentFriendsPage))\r\n\r\n        let data = await usersAPI.getFriends(currentFriendsPage, friendsPageSize, followed);\r\n        let newFriends = data.data.items;\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setFriends(newFriends));\r\n        dispatch(setTotalFriendsCount(data.data.totalCount));\r\n        dispatch(setCurrentFriendsPage(currentFriendsPage));\r\n    }\r\n}\r\n\r\nexport default sidebarReducer;","import React from \"react\";\r\nimport s from \"./friends.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {FriendsType} from \"../../types/Types\";\r\n\r\ntype FriendPropsType = {\r\n    friend: FriendsType\r\n}\r\n\r\nlet Friend: React.FC<FriendPropsType> = ({friend}) => {\r\n\r\n        return (\r\n            <div id={friend.name}>\r\n                <div className={s.friend} id={friend.name + friend.status}>\r\n                    <NavLink to={'/profile/' + friend.id}>\r\n                        <img src={friend.photos!.small != null ? friend.photos!.small : userPhoto}\r\n                             alt={\"User's ava\"} className={s.usersPhoto}/>\r\n                    </NavLink>\r\n                    <div id={friend.name}>{friend.name}</div>\r\n                    <div id={friend.status}>{friend.status}</div>\r\n                </div>\r\n\r\n\r\n            </div>)\r\n\r\n}\r\n\r\n\r\nexport default Friend;","import React from \"react\";\r\nimport Friend from \"./Friend\";\r\nimport s from \"./friends.module.css\"\r\nimport {FriendsType} from \"../../types/Types\";\r\n\r\ntype FriendsPropsType = {\r\n    totalFriendsCount: number\r\n    friends: Array<FriendsType>\r\n\r\n}\r\n\r\nlet Friends: React.FC<FriendsPropsType> = ({totalFriendsCount, friends}) => {\r\n\r\n\r\n\r\n    return <div className={s.friendsBlock} >\r\n\r\n        {friends===undefined? \"Ошибка сервера\" :\r\n            friends.slice(0, 3).map(u =>\r\n            <Friend friend={u}   />\r\n        )\r\n        }\r\n        <div className={s.friends} >\r\n            <div>Всего друзей:</div>\r\n            <div>{totalFriendsCount}</div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Friends;","import React from 'react';\r\nimport s from './Sidebar.module.css'\r\nimport Friends from \"../Friends/Friends\";\r\n\r\n\r\nlet Sidebar = ({totalFriendsCount,friendsPageSize, currentFriendsPage, onFriendsPageChanged, friends}) => {\r\n\r\n    return (\r\n        <div className={s.Sidebar}>\r\n            <div className={s.friends}> Мои друзья:</div>\r\n\r\n            <Friends totalFriendsCount={totalFriendsCount} friendsPageSize={friendsPageSize}\r\n                              currentFriendsPage={currentFriendsPage} onFriendsPageChanged={onFriendsPageChanged}\r\n                              friends={friends}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>\r\n\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n        let connectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n\r\n    return connectedAuthRedirectComponent;\r\n}\r\n","import React from \"react\";\r\nimport Preloader from \"../common/preloader/preloader\";\r\nimport {\r\n    getCurrentFriendsPage,\r\n    getFriends, getFriendsPageSize,\r\n    getTotalFriendsCount\r\n} from \"../../Redux/friendsSelectors\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {requestFriends} from \"../../Redux/sidebar-reducer\";\r\nimport Sidebar from \"../Sidebar/Sidebar\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport {FriendsType} from \"../../types/Types\";\r\nimport {getFollowingInProgress} from \"../../Redux/usersSelectors\";\r\n\r\ntype FriendsContainerType = {\r\n    currentFriendsPage: number\r\n    friendsPageSize: number\r\n    getFriends: (currentPage: number, pageSize: number, followed: boolean) => void\r\n    isFetching: boolean\r\n    friends: Array<FriendsType>\r\n    totalFriendsCount: number\r\n    followed: boolean\r\n    followingInProgress: Array<number>\r\n}\r\n\r\n\r\nclass FriendsContainer extends React.Component<FriendsContainerType> {\r\n\r\n    refreshFriends() {\r\n        let {currentFriendsPage, friendsPageSize, followed} = this.props;\r\n        this.props.getFriends(currentFriendsPage, friendsPageSize, followed);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshFriends()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<FriendsContainerType>, prevState: Readonly<{}>, snapshot?: any) {\r\n        if (prevProps.followingInProgress !== this.props.followingInProgress) {\r\n            this.refreshFriends()\r\n        } //Обновляем друзей, если была попытка подписки-отписки\r\n\r\n    }\r\n\r\n    onFriendsPageChanged = (currentFriendsPage: number) => {\r\n        let {friendsPageSize, followed} = this.props;\r\n        this.props.getFriends(currentFriendsPage, friendsPageSize, followed);\r\n    }\r\n\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Sidebar\r\n                totalFriendsCount={this.props.totalFriendsCount}\r\n                friendsPageSize={this.props.friendsPageSize}\r\n                currentFriendsPage={this.props.currentFriendsPage}\r\n                onFriendsPageChanged={this.onFriendsPageChanged}\r\n                friends={this.props.friends}\r\n            />\r\n\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        friends: getFriends(state),\r\n        totalFriendsCount: getTotalFriendsCount(state),\r\n        friendsPageSize: getFriendsPageSize(state),\r\n        currentFriendsPage: getCurrentFriendsPage(state),\r\n        followingInProgress:getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        getFriends: requestFriends\r\n    }), withAuthRedirect\r\n)(FriendsContainer);","import React from 'react';\r\nimport s from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FriendsContainer from \"../Friends/FriendsContainer\";\r\n\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/Profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/Dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/Users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/News\" activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/Music\" activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/Settings\" activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/login\" activeClassName={s.activeLink}>Login</NavLink>\r\n            </div>\r\n            <FriendsContainer/>\r\n        </nav>)\r\n}\r\n\r\nexport default Navbar;","import  React from 'react';\r\nimport s from \"./News.module.css\"\r\n\r\nconst News = () => {\r\n    return  (\r\n        <div className={s.newsBlock}>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport  default News;","import  React from 'react';\r\nimport s from \"./Music.module.css\"\r\n\r\nconst Music = () => {\r\n    return  (\r\n        <div className={s.blockMusic}>\r\n            Music\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport  default Music;","import  React from 'react';\r\nimport s from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n    return  (\r\n        <div className={s.settings}>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport  default Settings;","const SEND_MESSAGE = 'SEND_MESSAGE';\r\ntype DialogsType = {\r\n    id: number\r\n    name: string\r\n    ava: string\r\n}\r\ntype MessagesType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Sasha', ava: 'https://klike.net/uploads/posts/2019-03/1551511784_4.jpg'},\r\n        {id: 2, name: 'Kolya', ava: 'https://klike.net/uploads/posts/2019-03/1551511801_1.jpg'},\r\n        {id: 3, name: 'Petya', ava: 'https://www.meme-arsenal.com/memes/cbfd4797382778baf1f41b8439399262.jpg'},\r\n        {\r\n            id: 4,\r\n            name: 'Vasya',\r\n            ava: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTnIZ65bUZfqwc204EF5GN3tpbfY5zQ2WiB1A&usqp=CAU'\r\n        },\r\n        {\r\n            id: 5,\r\n            name: 'Nino',\r\n            ava: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQbMxEyi1yeivrdaCitJxEftqshPFPEouuz2A&usqp=CAU'\r\n        },\r\n        {\r\n            id: 6,\r\n            name: 'Dina',\r\n            ava: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSa8SCQKFAMJ8BW_2FXCdUyTXm66A4eksY2iA&usqp=CAU'\r\n        },\r\n        {\r\n            id: 7,\r\n            name: 'Pablo',\r\n            ava: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQYNPFMEDOAjlZxz1E1bSrNI-PlOq2m1tRh0g&usqp=CAU'\r\n        }\r\n    ] as Array<DialogsType>,\r\n    messages: [\r\n        {id: 1, message: 'Hi!'},\r\n        {id: 2, message: 'How are you doing?'},\r\n        {id: 3, message: 'Whats up?'},\r\n        {id: 4, message: 'Yo'},\r\n        {id: 5, message: 'Yo'},\r\n    ] as Array<MessagesType>\r\n\r\n};\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action: any): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\ntype SendMessageCreatorActionType = {\r\n    type: typeof SEND_MESSAGE\r\n    newMessageBody: string\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody: string): SendMessageCreatorActionType =>\r\n    ({type: SEND_MESSAGE, newMessageBody})\r\n\r\n\r\nexport default dialogsReducer;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {useForm} from \"react-hook-form\";\r\n\r\ntype DialogItemPropsType = {\r\n    id: number\r\n    avatar?: string\r\n    ava?:string\r\n    name: string\r\n}\r\ntype MessagePropsType = {\r\n    message: string\r\n}\r\ntype MessagesType = {\r\n    id: number\r\n    message: string\r\n}\r\ntype  MessagesPropsType = {\r\n    messages: Array<MessagesType>\r\n}\r\n\r\ntype DialogsType = {\r\n    dialogs: Array<DialogItemPropsType>\r\n}\r\n\r\ntype DialogsPageType = {\r\n    dialogsPage: DialogsType & MessagesPropsType\r\n}\r\n\r\ntype SendMessageType = {\r\n    sendMessage: (values:string) => any\r\n}\r\n\r\ntype DialogsPropsType = DialogsPageType & DialogsType & MessagesPropsType & SendMessageType\r\n\r\n\r\nconst DialogItem = (props: DialogItemPropsType) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n\r\n    return (\r\n        <div className={s.dialog + ' ' + s.active}>\r\n            <img alt={\"Avatar\"} className={s.ava} src={props.avatar}/>\"\r\n            <NavLink to={path}> {props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Message = (props: MessagePropsType) => {\r\n    return (\r\n        <div className={s.message}>{props.message}</div>\r\n    )\r\n}\r\n\r\nconst Dialogs = (props: DialogsPropsType) => {\r\n    let state = props.dialogsPage;\r\n\r\n    let dialogsElements = state.dialogs.map(d => <DialogItem name={d.name} key={d.id} id={d.id} avatar={d.ava}/>)\r\n    let messagesElements = state.messages.map(m => <Message message={m.message} key={m.id}/>)\r\n\r\n\r\n    let addNewMessage = (values:any) => {\r\n        console.log(values.newMessageBody)\r\n        props.sendMessage(values.newMessageBody);\r\n    }\r\n\r\n    return (\r\n\r\n        <div className={s.dialogs}>\r\n            <div className={s.block}>\r\n\r\n            </div>\r\n            <div className={s.dialogsItem}>\r\n                {dialogsElements}\r\n            </div>\r\n            {/*закрываются диалоги - АВАТАРКИ С ИМЕНАМИ*/}\r\n\r\n\r\n            <div className={s.messages}>  {/*начало ТЕКСТА сообщений*/}\r\n                <div>{messagesElements} </div>\r\n                <div> {/*НАЧАЛО ПОЛЯ ВВОДА НОВОГО СООБЩЕНИЯ*/}\r\n                    <AddMessageForm onSubmit={addNewMessage}/>\r\n                </div>\r\n                {/*КОНЕЦ ПОЛЯ ВВОДА НОВОГО СООБЩЕНИЯ*/}\r\n            </div>\r\n            {/*конец блока сообщений*/}\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Dialogs;\r\n\r\n\r\nexport const AddMessageForm = (props:any) => {\r\n    const {register, handleSubmit, formState: {errors}} = useForm();\r\n    // @ts-ignore\r\n    const onSubmit = data => props.onSubmit(data);\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n            <input {...register(\"newMessageBody\", {required: true, maxLength: 30})}\r\n                   placeholder=\"enter your message\"/>\r\n            <input type=\"Submit\" value=\"Send Message\"/>\r\n            {errors?.newMessageBody?.type === \"required\" && <span>This field is required</span>}\r\n            {errors?.newMessageBody?.type === \"maxLength\" && (\r\n                <span>This field cannot exceed 30 characters</span>\r\n            )}\r\n        </form>\r\n    );\r\n}\r\n","import {sendMessageCreator} from \"../../Redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\n\r\n\r\n\r\nlet mapStateToProps = (state:AppStateType) => {\r\n    return {\r\n        dialogsPage: state.messagesPage,\r\n\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch:any) => {\r\n    return {\r\n        sendMessage: (newMessageBody:string) => {\r\n            dispatch(sendMessageCreator(newMessageBody));\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nexport  default compose (\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n) (Dialogs);","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport logo from \"../../assets/images/Screenshot_1.jpg\";\r\n\r\nconst Header = (props) => {\r\n       return (\r\n        <header className={s.header}>\r\n            <img src={logo} className={s.logo}\r\n                alt='Логотип'></img>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ?\r\n                    <div>\r\n                        {props.login}\r\n                        <div><button onClick={props.logoutReducer}>Log out</button></div>\r\n                    </div>:\r\n                        <NavLink to={'/login'}> Login </NavLink>}\r\n\r\n            </div>\r\n        </header>)\r\n}\r\n\r\n\r\nexport default Header;","export default \"data:image/jpeg;base64,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\"","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logoutReducer} from \"../../Redux/auth-reducer\";\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n        });\r\n\r\nexport default connect(mapStateToProps, {logoutReducer})(HeaderContainer);","import React from 'react';\r\nimport {useForm} from \"react-hook-form\";\r\nimport s from './login.module.css';\r\nimport {connect} from \"react-redux\";\r\nimport {loginReducer} from \"../../Redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nexport const LoginForm = ({onSubmit, captureURL}) => {\r\n\r\n    const {\r\n        register, handleSubmit,\r\n        formState: {errors}\r\n    } = useForm();\r\n    const {onChange, ...rest} = register(\"loginError\");\r\n    return (\r\n        <div className={s.loginPage}>\r\n            <form className={s.form} onSubmit={handleSubmit(onSubmit)}>\r\n                <h1>Login Form</h1>\r\n                <div>\r\n                    <input {...register(\"email\", {\r\n                        required: true,\r\n                        maxLength: 40\r\n                    })} placeholder={\" e-mail\"}/>\r\n                    {errors?.email?.type === \"required\" && <span>This field is required</span>}\r\n                    {errors?.email?.type === \"maxLength\" && (\r\n                        <span>This field cannot exceed 40 characters</span>\r\n                    )}\r\n                </div>\r\n                <div>\r\n                    <input {...register(\"password\", {required: true, maxLength: 30}\r\n                    )} placeholder={\" password\"} type={\"password\"}\r\n                    />\r\n                    {errors?.password?.type === \"required\" && <span>This field is required</span>}\r\n                    {errors?.password?.type === \"maxLength\" && (\r\n                        <span>This field cannot exceed 30 characters</span>\r\n                    )}\r\n                </div>\r\n                <div> {captureURL && <img alt={\"Капча\"} src={captureURL}/>}\r\n                    {captureURL &&\r\n                    <div><input {...register(\"captcha\")}\r\n                                placeholder={\"введите символы сюда\"}\r\n                                type={\"text\"}/></div>}\r\n                </div>\r\n\r\n                <div>\r\n                    <input {...register(\"rememberMe\")} type=\"checkbox\"/>\r\n                    Remember me\r\n                </div>\r\n\r\n                <input type=\"submit\" value=\"Login\"/>\r\n\r\n            </form>\r\n\r\n\r\n            <div className={s.testAccount}>\r\n                <h1> Test account: </h1>\r\n                <div>Email: free@samuraijs.com</div>\r\n                <div>Password: free</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst login = ({isAuth, loginReducer, authError, captureURL}) => {\r\n    const onSubmit = data => loginReducer(data.email, data.password, data.rememberMe, data.captcha);\r\n\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n\r\n    return <div className={s.loginBlock}>\r\n        <LoginForm onSubmit={onSubmit} captureURL={captureURL}/>\r\n        <div className={s.error}>\r\n            {authError}\r\n        </div>\r\n\r\n\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth, authError: state.auth.authError,\r\n    captureURL: state.auth.captureURL\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {loginReducer})(login);\r\n","import {getAuthUserData} from \"./auth-reducer\"\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\n\r\nexport type  initialStateType = {\r\n    initialized: boolean,\r\n};\r\n\r\nlet initialState: initialStateType = {\r\n    initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action: any) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\ntype initializedSuccessType = {\r\n    type: typeof SET_INITIALIZED\r\n}\r\n\r\nexport const initializedSuccess = (): initializedSuccessType =>\r\n    ({type: SET_INITIALIZED})\r\n\r\n\r\nexport const initializeApp = () => (dispatch: any) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    promise.then(() => {\r\n        dispatch(initializedSuccess())\r\n    });\r\n}\r\n\r\nexport default appReducer;\r\n\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducers from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\"\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducers,\r\n    auth: authReducer,\r\n    app: appReducer\r\n});\r\n\r\ntype RootReducerType = typeof rootReducer\r\nexport type AppStateType = ReturnType<RootReducerType> // Типизация исходя из того, что уже есть в state\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer,  composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n));\r\n\r\n// @ts-ignore\r\nwindow.__store__ = store;\r\nexport default store;","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport {HashRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\n// import UsersContainer from \"./components/Users/UsersContainer\";\r\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/login\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./Redux/app-reducer\";\r\nimport Preloader from \"./components/common/preloader/preloader\";\r\nimport store from \"./Redux/redux-store\";\r\nimport FriendsContainer from \"./components/Friends/FriendsContainer\";\r\n\r\n\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n        document.title = `Mytrofanov React App  ✅`;\r\n    }\r\n\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className='app-wrapper'>\r\n\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <React.Suspense fallback={<Preloader/>}>\r\n                    <div className='app-wrapper-content'>\r\n                        <Switch>\r\n                            <Route exact path='/' render={() => <Redirect to={\"/profile\"}/>}/>\r\n                            <Route path='/dialogs'\r\n                                   render={() => <DialogsContainer/>}/>\r\n                            <Route path='/profile/:userId?'\r\n                                   render={() => <ProfileContainer/>}/>\r\n                            <Route path='/news' render={() => <News/>}/>\r\n                            <Route path='/music' render={() => <Music/>}/>\r\n                            <Route path='/settings' render={() => <Settings/>}/>\r\n                            <Route path='/users' render={() => <UsersContainer pageTitle={\"Самураи\"}/>}/>\r\n                            <Route path='/friends' render={() => <FriendsContainer/>}/>\r\n                            <Route path='/login' render={() => <Login/>}/>\r\n                        </Switch>\r\n                    </div>\r\n                </React.Suspense>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n});\r\n\r\nlet AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App);\r\n\r\nlet SamuraiJSApp = (props) => {\r\n    return (\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <AppContainer/>\r\n            </Provider>\r\n        </HashRouter>\r\n    )\r\n}\r\nexport default SamuraiJSApp;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SamuraiJSApp from \"./App\";\r\n\r\n\r\n    ReactDOM.render(<SamuraiJSApp/>, document.getElementById('root'));\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}