{"version":3,"sources":["API/api.js","components/Navbar/Navbar.module.css","components/Dialogs/Dialogs.module.css","assets/images/Spin-1s-200px.svg","components/common/preloader/preloader.js","components/Friends/friends.module.css","components/Login/login.module.css","utils/object-helpers.js","Redux/users-reducer.js","hoc/withAuthRedirect.js","components/common/preloader/Preloader.module.css","components/Header/Header.module.css","components/Sidebar/Sidebar.module.css","Redux/profile-reducer.js","assets/images/user.png","components/News/News.module.css","components/Music/Music.module.css","components/Settings/Settings.module.css","components/Friends/Friend.jsx","components/Friends/Friends.jsx","components/Sidebar/Sidebar.jsx","Redux/friendsSelectors.js","Redux/sidebar-reducer.js","components/Friends/FriendsContainer.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","Redux/dialogs-reducer.js","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","components/Header/Header.jsx","assets/images/Screenshot_1.jpg","Redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/login.jsx","Redux/app-reducer.js","Redux/redux-store.js","App.js","index.js"],"names":["instance","axios","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","getFriends","currentFriendsPage","friendsPageSize","friend","unFollow","id","delete","follow","post","getProfile","userId","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","module","exports","Preloader","props","className","s","loaderBlock","loader","img","src","preloader","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","users","totalUsersCount","isFetching","followingInProgress","followSuccess","type","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","page","dispatch","a","totalCount","count","followUnfollowFlow","apiMethod","actionCreator","resultCode","bind","unfollow","usersReducers","state","action","followed","filter","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","posts","message","discount","profile","addPostActionCreator","newPost","setStatus","getUserProfile","profileReducer","p","Friend","photos","small","userPhoto","usersPhoto","name","Friends","onFriendsPageChanged","totalFriendsCount","friends","log","friendsBlock","slice","Sidebar","sidebar","getFriendsPageSize","getCurrentFriendsPage","getTotalFriendsCount","SET_FRIENDS","SET_CURRENT_FRIENDS_PAGE","SET_TOTAL_FRIENDS_COUNT","setFriends","newFriends","setCurrentFriendsPage","sidebarReducer","FriendsContainer","compose","Navbar","nav","item","activeClassName","activeLink","News","newsBlock","Music","blockMusic","Settings","settings","SEND_MESSAGE","dialogs","ava","messages","dialogsReducer","body","newMessageBody","DialogItem","path","dialog","active","avatar","Message","Dialogs","dialogsPage","dialogsElements","d","messagesElements","m","block","dialogsItem","onSubmit","values","sendMessage","AddMessageForm","useForm","register","handleSubmit","errors","formState","required","maxLength","placeholder","value","messagesPage","sendMessageCreator","Header","header","logo","alt","loginBlock","onClick","logoutReducer","SET_USER_DATA","SET_AUTH_ERROR","authError","setAuthUserData","payload","setAuthError","errorMessage","getAuthUserData","authReducer","HeaderContainer","LoginForm","setError","onChange","loginPage","form","testAccount","loginReducer","length","error","SET_INITIALIZED","initialized","appReducer","reducers","combineReducers","profilePage","usersPage","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","UsersContainer","lazy","ProfileContainer","App","initializeApp","Suspense","fallback","render","DialogsContainer","AppContainer","withRouter","SamuraiJSApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.5104a14a.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\"API-KEY\": \"d0f249f5-23ff-48d0-b8e9-a154edff15d4\"},\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n\r\n    getFriends(currentFriendsPage = 1, friendsPageSize = 10, friend = true) {\r\n        return instance.get(`users?page=${currentFriendsPage}&count=${friendsPageSize}&friend=${friend}`)\r\n    },\r\n\r\n// в delete параметр withCredentials отправляется вторым\r\n    unFollow(id) {\r\n        return instance.delete(`follow/${id}`)\r\n    },\r\n\r\n// в post параметр withCredentials отправляется третьим\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`)\r\n    },\r\n\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method.Please use profileApi')\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put('profile/status', {status: status})\r\n    }\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post('auth/login', {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login')\r\n    }\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1FSrB\",\"item\":\"Navbar_item__1rl86\",\"activeLink\":\"Navbar_activeLink__ts9gE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1Djbj\",\"dialogsItem\":\"Dialogs_dialogsItem__3DzM3\",\"active\":\"Dialogs_active__32bNv\",\"dialog\":\"Dialogs_dialog__237Y_\",\"messages\":\"Dialogs_messages__2Cs9I\",\"message\":\"Dialogs_message__CWbLQ\",\"ava\":\"Dialogs_ava__28zLj\",\"block\":\"Dialogs_block__3qSSS\"};","export default __webpack_public_path__ + \"static/media/Spin-1s-200px.424ecdff.svg\";","import React from \"react\";\r\nimport preloader from  \"../../../assets/images/Spin-1s-200px.svg\";\r\nimport s from \"./Preloader.module.css\"\r\n\r\nlet Preloader = (props) => {\r\nreturn <div className={s.loaderBlock}>\r\n     <div className={s.loader}>\r\n     <img className={s.img} src={preloader} />\r\n     </div>\r\n</div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsBlock\":\"friends_friendsBlock__2DjA8\",\"friend\":\"friends_friend__3GccG\",\"friends\":\"friends_friends__2r2YN\",\"usersPhoto\":\"friends_usersPhoto__1SsCU\",\"startAndEnd\":\"friends_startAndEnd__2nGg8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginPage\":\"login_loginPage__3a48g\",\"loginBlock\":\"login_loginBlock__U9-iG\",\"loginForm\":\"login_loginForm__29O8y\",\"form\":\"login_form__19Jav\",\"error\":\"login_error__110zK\",\"testAccount\":\"login_testAccount__10JZu\"};","export  const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u.[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n\r\n}\r\n\r\n","import {usersAPI} from \"../API/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducers = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n\r\n                // users: state.users.map(u => {\r\n                //     if (u.id === action.userId) {\r\n                //         return {...u, followed: true}\r\n                //     }\r\n                //     return u;\r\n                // })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n                // users: state.users.map(u => {\r\n                //     if (u.id === action.userId) {\r\n                //         return {...u, followed: false}\r\n                //     }\r\n                //     return u;\r\n                // })\r\n            }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId\r\n})\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page))\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n        dispatch(setCurrentPage(page));\r\n    }\r\n}\r\n\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unFollow.bind(usersAPI), unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducers;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>\r\n\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n        let connectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n\r\n    return connectedAuthRedirectComponent;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Preloader_loader__1zNIO\",\"loaderBlock\":\"Preloader_loaderBlock__3jIUY\",\"img\":\"Preloader_img__AVukO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2jco9\",\"loginBlock\":\"Header_loginBlock__5hlhJ\",\"logo\":\"Header_logo__2ezO8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Sidebar\":\"Sidebar_Sidebar__1CPdP\",\"friends\":\"Sidebar_friends__2lPWL\"};","import {profileAPI, usersAPI} from \"../API/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'First post', count: 5, discount: 0},\r\n        {id: 2, message: 'Second post', count: 7, discount: 1},\r\n        {id: 3, message: 'Third post', count: 8, discount: 10},\r\n        {id: 4, message: 'Forth post', count: 9, discount: 4},\r\n        {id: 5, message: 'Fifth post', count: 10, discount: 2},\r\n        {id: 6, message: 'Six post', count: 11, discount: 3},\r\n        {id: 7, message: 'Seven post', count: 14, discount: 4},\r\n        {id: 8, message: 'Eight post', count: 15, discount: 2},\r\n        {id: 9, message: 'Nine post', count: 7, discount: 2}\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n\r\n\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 10,\r\n                message: action.newPost,\r\n                count: 0, discount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.id)\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const addPostActionCreator = (newPost) => ({type: ADD_POST, newPost})\r\nexport const deletePost = (id) => ({type: DELETE_POST, id})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n}\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\n\r\nexport default profileReducer;","export default __webpack_public_path__ + \"static/media/user.96e310a6.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newsBlock\":\"News_newsBlock__ShQ5k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"blockMusic\":\"Music_blockMusic__2Xd5Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__3ZQJn\"};","import React from \"react\";\r\nimport s from \"./friends.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport {NavLink, Route} from \"react-router-dom\";\r\n\r\n\r\nlet Friend = ({friend, followingInProgress, unfollow, follow}) => {\r\n\r\n    return (\r\n        <div>\r\n            {friend=!undefined?\r\n                <div className={s.friend}>\r\n                <NavLink to={'/profile/' + friend.id}>\r\n                    <img src={friend.photos.small != null ? friend.photos.small : userPhoto} className={s.usersPhoto}/>\r\n                </NavLink>\r\n                <div>{friend.name}</div>\r\n                <div>{friend.status}</div>\r\n            </div>\r\n                : <div> У Вас здесь нет друзей :-)  </div>}\r\n\r\n\r\n        </div>)\r\n\r\n}\r\n\r\n\r\nexport default Friend;","import React from \"react\";\r\nimport Friend from \"./Friend\";\r\nimport s from \"./friends.module.css\"\r\n\r\n\r\nlet Friends = ({currentFriendsPage, onFriendsPageChanged, friendsPageSize, totalFriendsCount, friends}) => {\r\n    console.log(currentFriendsPage, onFriendsPageChanged,friendsPageSize,totalFriendsCount)\r\n\r\n    return <div className={s.friendsBlock}>\r\n\r\n\r\n        {friends.slice(0, 3).map(u =>\r\n            <Friend friend={u}\r\n            />\r\n        )\r\n        }\r\n        <div className={s.friends}>\r\n        <div>Всего друзей:</div>\r\n        <div>{totalFriendsCount}</div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Friends;","import React from 'react';\r\nimport s from './Sidebar.module.css'\r\nimport Friends from \"../Friends/Friends\";\r\n\r\n\r\nlet Sidebar = ({totalFriendsCount,friendsPageSize, currentFriendsPage, onFriendsPageChanged, friends,  }) => {\r\n\r\n    return (\r\n        <div className={s.Sidebar}>\r\n            <div className={s.friends}> Мои друзья:</div>\r\n            <Friends totalFriendsCount={totalFriendsCount} friendsPageSize={friendsPageSize}\r\n                              currentFriendsPage={currentFriendsPage} onFriendsPageChanged={onFriendsPageChanged}\r\n                              friends={friends}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar;","export const getFriends = (state) => {\r\n    return state.sidebar.friends;\r\n}\r\nexport const getFriendsPageSize = (state) => {\r\n    return state.sidebar.friendsPageSize;\r\n}\r\nexport const getCurrentFriendsPage = (state) => {\r\n    return state.sidebar.currentFriendsPage;\r\n}\r\n\r\nexport const getTotalFriendsCount = (state) => {\r\n    return state.sidebar.totalFriendsCount;\r\n}\r\n\r\n","import {usersAPI} from \"../API/api\";\r\nimport {toggleIsFetching} from \"./users-reducer\";\r\n\r\nconst SET_FRIENDS = 'SET_FRIENDS';\r\nconst SET_CURRENT_FRIENDS_PAGE = 'SET_CURRENT_FRIENDS_PAGE';\r\nconst SET_TOTAL_FRIENDS_COUNT = 'SET_TOTAL_FRIENDS_COUNT';\r\n\r\n\r\nlet initialState = {\r\n    friends: [],\r\n    friendsPageSize:3,\r\n    totalFriendsCount: 0,\r\n    currentFriendsPage: 1\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_FRIENDS: {\r\n            return {...state, friends: action.newFriends}\r\n        }\r\n        case SET_CURRENT_FRIENDS_PAGE: {\r\n            return {...state, currentFriendsPage: action.currentFriendsPage}\r\n        }\r\n        case SET_TOTAL_FRIENDS_COUNT: {\r\n            return {...state, totalFriendsCount: action.totalFriendsCount}\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n    return state;\r\n}\r\n\r\nexport const setFriends = (newFriends) => ({type: SET_FRIENDS, newFriends})\r\nexport const setCurrentFriendsPage = (currentFriendsPage) => ({type: SET_CURRENT_FRIENDS_PAGE, currentFriendsPage})\r\nexport const setTotalFriendsCount = (totalFriendsCount) => ({type: SET_TOTAL_FRIENDS_COUNT, totalFriendsCount})\r\n\r\nexport const requestFriends = (currentFriendsPage, friendsPageSize, friends) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentFriendsPage(currentFriendsPage))\r\n\r\n        let data = await usersAPI.getFriends(currentFriendsPage, friendsPageSize, friends);\r\n        let newFriends = data.data.items;\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setFriends(newFriends));\r\n        dispatch(setTotalFriendsCount(data.data.totalCount));\r\n        dispatch(setCurrentFriendsPage(currentFriendsPage));\r\n    }\r\n}\r\n\r\nexport default sidebarReducer;","import React from \"react\";\r\nimport Preloader from \"../common/preloader/preloader\";\r\nimport {\r\n    getCurrentFriendsPage,\r\n    getFriends, getFriendsPageSize,\r\n    getTotalFriendsCount\r\n} from \"../../Redux/friendsSelectors\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {requestFriends} from \"../../Redux/sidebar-reducer\";\r\nimport Sidebar from \"../Sidebar/Sidebar\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\n\r\nclass FriendsContainer extends React.Component {\r\n    componentDidMount() {\r\n        let {currentFriendsPage, friendsPageSize, friend} = this.props;\r\n        this.props.getFriends(currentFriendsPage, friendsPageSize, friend);\r\n    }\r\n\r\n    onFriendsPageChanged = (currentFriendsPage) => {\r\n        let {friendsPageSize} = this.props;\r\n        this.props.getFriends(currentFriendsPage, friendsPageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Sidebar\r\n                totalFriendsCount={this.props.totalFriendsCount}\r\n                friendsPageSize={this.props.friendsPageSize}\r\n                currentFriendsPage={this.props.currentFriendsPage}\r\n                onFriendsPageChanged={this.onFriendsPageChanged}\r\n                friends={this.props.friends}\r\n            />\r\n\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        friends: getFriends(state),\r\n        totalFriendsCount: getTotalFriendsCount(state),\r\n        friendsPageSize: getFriendsPageSize(state),\r\n        currentFriendsPage: getCurrentFriendsPage(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        getFriends: requestFriends\r\n    }),withAuthRedirect\r\n)(FriendsContainer);","import React from 'react';\r\nimport s from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Sidebar from \"../Sidebar/Sidebar\";\r\nimport FriendsContainer from \"../Friends/FriendsContainer\";\r\n\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/Profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/Dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/Users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/News\" activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/Music\" activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/Settings\" activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/login\" activeClassName={s.activeLink}>Login</NavLink>\r\n            </div>\r\n            <FriendsContainer/>\r\n        </nav>)\r\n}\r\n\r\nexport default Navbar;","import  React from 'react';\r\nimport s from \"./News.module.css\"\r\n\r\nconst News = () => {\r\n    return  (\r\n        <div className={s.newsBlock}>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport  default News;","import  React from 'react';\r\nimport Preloader from \"../common/preloader/preloader\";\r\nimport s from \"./Music.module.css\"\r\n\r\nconst Music = (props) => {\r\n    return  (\r\n        <div className={s.blockMusic}>\r\n            Music\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport  default Music;","import  React from 'react';\r\nimport s from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n    return  (\r\n        <div className={s.settings}>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport  default Settings;","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Sasha', ava: 'https://klike.net/uploads/posts/2019-03/1551511784_4.jpg'},\r\n        {id: 2, name: 'Kolya', ava: 'https://klike.net/uploads/posts/2019-03/1551511801_1.jpg'},\r\n        {id: 3, name: 'Petya', ava: 'https://www.meme-arsenal.com/memes/cbfd4797382778baf1f41b8439399262.jpg'},\r\n        {\r\n            id: 4,\r\n            name: 'Vasya',\r\n            ava: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTnIZ65bUZfqwc204EF5GN3tpbfY5zQ2WiB1A&usqp=CAU'\r\n        },\r\n        {\r\n            id: 5,\r\n            name: 'Nino',\r\n            ava: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQbMxEyi1yeivrdaCitJxEftqshPFPEouuz2A&usqp=CAU'\r\n        },\r\n        {\r\n            id: 6,\r\n            name: 'Dina',\r\n            ava: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSa8SCQKFAMJ8BW_2FXCdUyTXm66A4eksY2iA&usqp=CAU'\r\n        },\r\n        {\r\n            id: 7,\r\n            name: 'Pablo',\r\n            ava: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQYNPFMEDOAjlZxz1E1bSrNI-PlOq2m1tRh0g&usqp=CAU'\r\n        }\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi!'},\r\n        {id: 2, message: 'How are you doing?'},\r\n        {id: 3, message: 'Whats up?'},\r\n        {id: 4, message: 'Yo'},\r\n        {id: 5, message: 'Yo'},\r\n    ]\r\n\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\n\r\nexport default dialogsReducer;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport {NavLink, Redirect} from \"react-router-dom\";\r\nimport {useForm} from \"react-hook-form\";\r\n\r\n\r\nconst DialogItem = (props) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n\r\n    return (\r\n        <div className={s.dialog + ' ' + s.active}>\r\n            <img className={s.ava} src={props.avatar}/>\"\r\n            <NavLink to={path}> {props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={s.message}>{props.message}</div>\r\n    )\r\n}\r\n\r\nconst Dialogs = (props) => {\r\n    let state = props.dialogsPage;\r\n\r\n    let dialogsElements = state.dialogs.map(d => <DialogItem name={d.name} key={d.id} id={d.id} avatar={d.ava}/>)\r\n    let messagesElements = state.messages.map(m => <Message message={m.message} key={m.id}/>)\r\n\r\n\r\n    let addNewMessage = (values) => {\r\n        console.log(values.newMessageBody)\r\n        props.sendMessage(values.newMessageBody);\r\n    }\r\n\r\n    return (\r\n\r\n        <div className={s.dialogs}>\r\n            <div className={s.block}>\r\n\r\n            </div>\r\n            <div className={s.dialogsItem}>\r\n                {dialogsElements}\r\n            </div>\r\n            {/*закрываются диалоги - АВАТАРКИ С ИМЕНАМИ*/}\r\n\r\n\r\n            <div className={s.messages}>  {/*начало ТЕКСТА сообщений*/}\r\n                <div>{messagesElements} </div>\r\n                <div> {/*НАЧАЛО ПОЛЯ ВВОДА НОВОГО СООБЩЕНИЯ*/}\r\n                    <AddMessageForm onSubmit={addNewMessage}/>\r\n                </div>\r\n                {/*КОНЕЦ ПОЛЯ ВВОДА НОВОГО СООБЩЕНИЯ*/}\r\n            </div>\r\n            {/*конец блока сообщений*/}\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Dialogs;\r\n\r\n\r\nexport const AddMessageForm = (props) => {\r\n    const {register, handleSubmit, formState: {errors}} = useForm();\r\n    const onSubmit = data => props.onSubmit(data);\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n            <input {...register(\"newMessageBody\", {required: true, maxLength: 30})}\r\n                   placeholder=\"enter your message\"/>\r\n            <input type=\"Submit\" value=\"Send Message\"/>\r\n            {errors?.newMessageBody?.type === \"required\" && <span>This field is required</span>}\r\n            {errors?.newMessageBody?.type === \"maxLength\" && (\r\n                <span>This field cannot exceed 30 characters</span>\r\n            )}\r\n        </form>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport {sendMessageCreator} from \"../../Redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.messagesPage,\r\n\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageBody) => {\r\n            dispatch(sendMessageCreator(newMessageBody));\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nexport  default compose (\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n) (Dialogs);","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport logo from \"../../assets/images/Screenshot_1.jpg\";\r\n\r\nconst Header = (props) => {\r\n       return (\r\n        <header className={s.header}>\r\n            <img src={logo} className={s.logo}\r\n                alt='Логотип'></img>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ?\r\n                    <div>\r\n                        {props.login}\r\n                        <div><button onClick={props.logoutReducer}>Log out</button></div>\r\n                    </div>:\r\n                        <NavLink to={'/login'}> Login </NavLink>}\r\n\r\n            </div>\r\n        </header>)\r\n}\r\n\r\n\r\nexport default Header;","export default \"data:image/jpeg;base64,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\"","import {authAPI} from \"../API/api\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\r\nconst SET_AUTH_ERROR = 'SET_AUTH_ERROR';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    authError: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state;\r\n        case SET_AUTH_ERROR:\r\n            return {\r\n                ...state,\r\n                authError: action.errorMessage\r\n            }\r\n    }\r\n}\r\nexport const setAuthUserData = (userId, email, login, isAuth) =>\r\n    ({type: SET_USER_DATA, payload: {userId, email, login, isAuth}})\r\n\r\nexport const setAuthError = (errorMessage) =>\r\n    ({type: SET_AUTH_ERROR, errorMessage})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\n\r\nexport const loginReducer = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        const errorMessage = response.data.messages.length > 0 ? response.data.messages[0] : \"ошибка авторизации\";\r\n        dispatch(setAuthError(errorMessage))\r\n    }\r\n}\r\n\r\nexport const logoutReducer = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer;\r\n\r\n","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logoutReducer} from \"../../Redux/auth-reducer\";\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n        });\r\n\r\nexport default connect(mapStateToProps, {logoutReducer})(HeaderContainer);","import React from 'react';\r\nimport {useForm} from \"react-hook-form\";\r\nimport s from './login.module.css';\r\nimport {connect} from \"react-redux\";\r\nimport {loginReducer} from \"../../Redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nexport const LoginForm = ({onSubmit}) => {\r\n\r\n    const {\r\n        setError,\r\n        register, handleSubmit,\r\n        formState: {errors}\r\n    } = useForm();\r\n    const {onChange, ...rest} = register(\"loginError\");\r\n    return (\r\n        <div className={s.loginPage}>\r\n            <form className={s.form} onSubmit={handleSubmit(onSubmit)}>\r\n                <h1>Login Form</h1>\r\n                <div>\r\n                    <input {...register(\"email\", {\r\n                        required: true,\r\n                        maxLength: 40\r\n                    })} placeholder={\" e-mail\"}/>\r\n                    {errors?.email?.type === \"required\" && <span>This field is required</span>}\r\n                    {errors?.email?.type === \"maxLength\" && (\r\n                        <span>This field cannot exceed 40 characters</span>\r\n                    )}\r\n                </div>\r\n                <div>\r\n                    <input {...register(\"password\", {required: true, maxLength: 30}\r\n                    )} placeholder={\" password\"} type={\"password\"}\r\n                    />\r\n                    {errors?.password?.type === \"required\" && <span>This field is required</span>}\r\n                    {errors?.password?.type === \"maxLength\" && (\r\n                        <span>This field cannot exceed 30 characters</span>\r\n                    )}\r\n                </div>\r\n                <div>\r\n                    <input {...register(\"rememberMe\")} type=\"checkbox\"/>\r\n                    Remember me\r\n                </div>\r\n\r\n                <input type=\"submit\" value=\"Login\"/>\r\n\r\n            </form>\r\n\r\n\r\n            <div className={s.testAccount}>\r\n                <h1> Test account: </h1>\r\n                <div>Email: free@samuraijs.com</div>\r\n                <div>Password: free</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst login = ({isAuth, loginReducer, authError}) => {\r\n    const onSubmit = data => loginReducer(data.email, data.password, data.rememberMe);\r\n    if (isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n\r\n    return <div className={s.loginBlock}>\r\n        <LoginForm onSubmit={onSubmit}/>\r\n        <div className={s.error}>\r\n            {authError}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({isAuth: state.auth.isAuth, authError: state.auth.authError})\r\n\r\n\r\nexport default connect(mapStateToProps, {loginReducer})(login);\r\n","\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const initializedSuccess = () =>\r\n    ({type: SET_INITIALIZED})\r\n\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    promise.then(() => {\r\n        dispatch(initializedSuccess())\r\n    });\r\n}\r\n\r\nexport default appReducer;\r\n\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducers from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducers,\r\n    auth: authReducer,\r\n    app: appReducer\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers,  composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n));\r\n\r\nwindow.__store__ = store;\r\nexport default store;","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport {BrowserRouter, HashRouter, Route, withRouter} from \"react-router-dom\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\n// import UsersContainer from \"./components/Users/UsersContainer\";\r\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/login\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./Redux/app-reducer\";\r\nimport Preloader from \"./components/common/preloader/preloader\";\r\nimport store from \"./Redux/redux-store\";\r\nimport FriendsContainer from \"./components/Friends/FriendsContainer\";\r\n\r\n\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className='app-wrapper'>\r\n\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <React.Suspense fallback={<Preloader/>}>\r\n                    <div className='app-wrapper-content'>\r\n                        <Route path='/dialogs'\r\n                               render={() => <DialogsContainer/>}/>\r\n                        <Route path='/profile/:userId?'\r\n                               render={() => <ProfileContainer/>}/>\r\n                        <Route path='/news' render={() => <News/>}/>\r\n                        <Route path='/music' render={() => <Music/>}/>\r\n                        <Route path='/settings' render={() => <Settings/>}/>\r\n                        <Route path='/users' render={() => <UsersContainer/>}/>\r\n                        <Route path='/friends' render={() => <FriendsContainer/>}/>\r\n                        <Route path='/login' render={() => <Login/>}/>\r\n                    </div>\r\n                </React.Suspense>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n});\r\n\r\nlet AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App);\r\n\r\nlet SamuraiJSApp = (props) => {\r\n    return (\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <AppContainer/>\r\n            </Provider>\r\n        </HashRouter>\r\n    )\r\n}\r\nexport default SamuraiJSApp;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SamuraiJSApp from \"./App\";\r\n\r\n\r\n    ReactDOM.render(<SamuraiJSApp/>, document.getElementById('root'));\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}