{"version":3,"sources":["components/Profile/Posts/Post/Post.module.css","components/Profile/Posts/Posts.module.css","assets/images/mask.jpg","components/Profile/Posts/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/Posts/ProfileInfo/ProfileInfo.jsx","components/Profile/Posts/Post/Post.jsx","components/Profile/Posts/Posts.jsx","components/Profile/Posts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Profile/Posts/ProfileInfo/ProfileInfo.module.css"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","className","s","about","onDoubleClick","value","autoFocus","onChange","ev","currentTarget","onBlur","updateStatus","ProfileInfo","profile","isOwner","savePhoto","ava","photos","large","mask","container","src","overlay","type","bigPen","e","target","files","length","fullName","aboutMe","Post","item","message","item__like","count","discount","window","Posts","React","memo","console","log","push","postsElements","posts","reverse","map","p","onSubmit","addPost","newPost","post","NewPostForm","useForm","register","handleSubmit","errors","formState","data","required","maxLength","placeholder","MyPostsContainer","connect","state","profilePage","newPostText","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","history","getUserProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","Component","compose","auth","isAuth","withRouter"],"mappings":"2GACAA,EAAOC,QAAU,CAAC,KAAO,mBAAmB,WAAa,2B,oBCAzDD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,KAAO,oBAAoB,QAAU,uBAAuB,SAAW,0B,4HCDvG,MAA0B,iC,eC0C1BC,EAvCgB,SAACC,GAE5B,MAA8BC,oBAAS,GAAvC,mBAAKC,EAAL,KAAeC,EAAf,KACA,EAA0BF,mBAASD,EAAMI,QAAzC,mBAAKA,EAAL,KAAaC,EAAb,KAgBA,OAJAC,qBAAU,WACND,EAAUL,EAAMI,UACjB,CAACJ,EAAMI,SAGN,sBAAKG,UAAWC,IAAEJ,OAAlB,WACMF,GACF,8BACM,uBAAMK,UAAWC,IAAEC,MAAOC,cAlBf,WACrBP,GAAY,IAiBF,uDACKH,EAAMI,QAAQ,UADnB,UAILF,GACD,8BACI,uBAAOK,UAAWC,IAAEC,MAAOE,MAAOP,EAC3BQ,WAAW,EAAMC,SAlBb,SAACC,GACpBT,EAAUS,EAAGC,cAAcJ,QAkBZK,OAvBQ,WACvBb,GAAY,GACZH,EAAMiB,aAAab,YC6BZc,EApCK,SAAC,GAAyD,IAAxDC,EAAuD,EAAvDA,QAASf,EAA8C,EAA9CA,OAAQa,EAAsC,EAAtCA,aAAcG,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,UAC1D,IAAKF,EACD,OAAO,cAAC,IAAD,IAEX,IAAMG,EAAOH,EAAQI,OAAOC,MAAeL,EAAQI,OAAOC,MAAtBC,EASpC,OACI,gCACI,sBAAKlB,UAAWC,IAAEkB,UAAlB,UACI,qBAAKnB,UAAWC,IAAEC,MAAOkB,IAAKL,IAC7BF,GAAW,qBAAKb,UAAWC,IAAEoB,QAAlB,0BACXR,GAAW,uBAAOS,KAAM,OAAQtB,UAAWC,IAAEsB,OAAQjB,SAX9C,SAACkB,GACbA,EAAEC,OAAOC,MAAMC,QACfb,EAAUU,EAAEC,OAAOC,MAAM,UAYzB,sBAAK1B,UAAWC,IAAEC,MAAlB,iCACUU,EAAQgB,YAElB,sBAAK5B,UAAWC,IAAEC,MAAlB,wCACYU,EAAQiB,WAEpB,qBAAK7B,UAAWC,IAAEJ,OAAlB,SACA,cAAC,EAAD,CAAwBA,OAAQA,EAAQa,aAAcA,U,iCCdnDoB,EAhBF,SAACrC,GACV,OACI,gCACI,sBAAKO,UAAWC,IAAE8B,KAAlB,UACI,qBAAKX,IAAI,0EACR3B,EAAMuC,WAEX,sBAAKhC,UAAWC,IAAEgC,WAAlB,cAAgCxC,EAAMyC,MAAtC,QACI,sCAASzC,EAAM0C,SAAf,qB,0BCPZC,OAAO3C,MAAQ,GACf,IAkCe4C,EAlCDC,IAAMC,MAAK,SAAA9C,GAGrB+C,QAAQC,IAAI,gBACZD,QAAQC,IAAIhD,GACZ2C,OAAO3C,MAAMiD,KAAKjD,GAElB,IAAIkD,EACA,YAAIlD,EAAMmD,OAAOC,UAAUC,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAMf,QAASe,EAAEf,QAASE,MAAOa,EAAEb,MAAOC,SAAUY,EAAEZ,cAU9F,OAEI,gCAEI,8BACI,cAAC,EAAD,CAAaa,SAVR,SAAC5C,GACdX,EAAMwD,QAAQ7C,EAAM8C,cAYhB,qBAAKlD,UAAWC,IAAEkD,KAAlB,wBAECR,QASAS,EAAc,SAAC3D,GAAW,IAAD,IAClC+C,QAAQC,IAAI,eACZ,MAGIY,cAFAC,EADJ,EACIA,SAAUC,EADd,EACcA,aACEC,EAFhB,EAEIC,UAAYD,OAGhB,OACI,uBAAMR,SAAUO,GAFH,SAAAG,GAAI,OAAIjE,EAAMuD,SAASU,MAEpC,UACI,iDAAWJ,EAAS,UAAW,CAACK,UAAU,EAAMC,UAAW,MAA3D,IACGC,YAAY,qBACf,uBAAOvC,KAAK,SAASlB,MAAM,iBACA,cAApB,OAANoD,QAAM,IAANA,GAAA,UAAAA,EAAQN,eAAR,eAAiB5B,OAAuB,0DACd,eAApB,OAANkC,QAAM,IAANA,GAAA,UAAAA,EAAQN,eAAR,eAAiB5B,OACd,8E,QCjCLwC,EAFUC,aAhBD,SAACC,GACrB,MAAO,CACHpB,MAAOoB,EAAMC,YAAYrB,MACzBsB,YAAaF,EAAMC,YAAYC,gBAIZ,SAACC,GACxB,MAAO,CACHlB,QAAS,SAACC,GACNiB,EAASC,YAAqBlB,QAMjBa,CAA6C1B,GCCvDgC,EAhBC,SAAC5E,GAEb,OACI,gCACI,cAAC,EAAD,CAAamB,QAASnB,EAAMmB,QACff,OAAQJ,EAAMI,OACda,aAAcjB,EAAMiB,aACpBG,QAAUpB,EAAMoB,QAChBC,UAAYrB,EAAMqB,YAE/B,cAAC,EAAD,Q,uBCRNwD,E,oKAEF,WACI,IAAIC,EAASC,KAAK/E,MAAMgF,MAAMC,OAAOH,OAChCA,IACDA,EAASC,KAAK/E,MAAMkF,mBAEhBH,KAAK/E,MAAMmF,QAAQlC,KAAK,UAGhC8B,KAAK/E,MAAMoF,eAAeN,GAC1BC,KAAK/E,MAAMqF,UAAUP,K,+BAGzB,WACIC,KAAKO,mB,gCAGT,SAAmBC,EAAWC,EAAWC,GAChCV,KAAK/E,MAAMgF,MAAMC,OAAOH,QAAWS,EAAUP,MAAMC,OAAOH,QAE3DC,KAAKO,mB,oBAIb,WAEI,OAEI,cAAC,EAAD,2BAAaP,KAAK/E,OAAlB,IAAyBmB,QAAS4D,KAAK/E,MAAMmB,QACpCf,OAAQ2E,KAAK/E,MAAMI,OACnBa,aAAc8D,KAAK/E,MAAMiB,aACzBG,SAAU2D,KAAK/E,MAAMgF,MAAMC,OAAOH,OAClCzD,UAAW0D,KAAK/E,MAAMqB,iB,GAjCZwB,IAAM6C,WAkDtBC,sBACXrB,aAVkB,SAACC,GAAD,MAAY,CAC9BpD,QAASoD,EAAMC,YAAYrD,QAC3Bf,OAAQmE,EAAMC,YAAYpE,OAC1B8E,iBAAkBX,EAAMqB,KAAKd,OAC7Be,OAAQtB,EAAMqB,KAAKC,UAMM,CACrBT,mBAAgBC,cAChBpE,iBAAcI,gBAElByE,IALWH,CAMbd,I,mBChEFhF,EAAOC,QAAU,CAAC,UAAY,+BAA+B,KAAO,0BAA0B,MAAQ,2BAA2B,MAAQ,2BAA2B,OAAS,4BAA4B,QAAU,6BAA6B,OAAS","file":"static/js/3.83e71e15.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2_eNA\",\"item__like\":\"Post_item__like__x6lQ1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Posts_block__3Zfjj\",\"post\":\"Posts_post__3xlpX\",\"content\":\"Posts_content__SV9fO\",\"hookForm\":\"Posts_hookForm__81p9v\"};","export default __webpack_public_path__ + \"static/media/mask.cef09c37.jpg\";","import React, {useEffect, useState} from 'react';\r\nimport s from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n    const onStatusChange = (ev) => {\r\n        setStatus(ev.currentTarget.value)\r\n    }\r\n    useEffect(()=> {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    return (\r\n        <div className={s.status}>\r\n            {!editMode &&\r\n            <div>\r\n                  <span className={s.about} onDoubleClick={activateEditMode}>–°—Ç–∞—Ç—É—Å: &nbsp;\r\n                      {props.status||\"-------\"}  </span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input className={s.about} value={status}\r\n                       autoFocus={true} onChange={onStatusChange}\r\n                       onBlur={deactivateEditMode}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../../common/preloader/preloader\";\r\nimport mask from \"./../../../../assets/images/mask.jpg\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus, isOwner, savePhoto}) => {\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n    const ava = !profile.photos.large ? mask : profile.photos.large;\r\n    //–ø–æ–¥—Å—Ç–∞–≤–ª—è—é –º–∞—Å–∫—É –≤–º–µ—Å—Ç–æ –∞–≤–∞—Ç–∞—Ä–∫–∏ –µ—Å–ª–∏ –µ–µ –Ω–µ—Ç —É —é–∑–µ—Ä–∞\r\n\r\n    const selectPhoto = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.container}>\r\n                <img className={s.about} src={ava}/>\r\n                {isOwner && <div className={s.overlay}>üñã</div>}\r\n                {isOwner && <input type={\"file\"} className={s.bigPen} onChange={selectPhoto}/>}\r\n\r\n            </div>\r\n            <div className={s.about}>\r\n                –ò–º—è: {profile.fullName}\r\n            </div>\r\n            <div className={s.about}>\r\n                –û –º–Ω–µ: {profile.aboutMe}\r\n            </div>\r\n            <div className={s.status}>\r\n            <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css'\r\n\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={s.item}>\r\n                <img src='https://i.insider.com/5de2ca2b79d7577f925703f2?width=1124&format=jpeg'/>\r\n                {props.message}\r\n            </div>\r\n            <div className={s.item__like}> {props.count} Like\r\n                <span>  {props.discount} Dislike</span>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Post;","    import React from 'react';\r\n    import Post from './Post/Post';\r\n    import s from './Posts.module.css'\r\n    import {useForm} from \"react-hook-form\";\r\n\r\n    window.props = [];\r\n    const Posts = React.memo(props => {\r\n\r\n\r\n        console.log('Render Posts')\r\n        console.log(props)\r\n        window.props.push(props);\r\n\r\n        let postsElements =\r\n            [...props.posts].reverse().map(p => <Post message={p.message} count={p.count} discount={p.discount}/>)\r\n\r\n        let newPostElement = React.createRef();\r\n\r\n\r\n        let addNewPost = (value) => {\r\n            props.addPost(value.newPost);\r\n\r\n        }\r\n\r\n        return (\r\n\r\n            <div>\r\n\r\n                <div>\r\n                    <NewPostForm onSubmit={addNewPost}/>\r\n                </div>\r\n\r\n                <div className={s.post}> New Posts</div>\r\n\r\n                {postsElements}\r\n\r\n            </div>\r\n        )\r\n    });\r\n\r\n    export default Posts;\r\n\r\n\r\n    export const NewPostForm = (props) => {\r\n        console.log('Form Render')\r\n        const {\r\n            register, handleSubmit,\r\n            formState: {errors}\r\n        } = useForm();\r\n        const onSubmit = data => props.onSubmit(data);\r\n        return (\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <input {...register(\"newPost\", {required: true, maxLength: 30}\r\n                )} placeholder=\"enter your post\"/>\r\n                <input type=\"Submit\" value=\"Send Message\"/>\r\n                {errors?.newPost?.type === \"required\" && <span>This field is required</span>}\r\n                {errors?.newPost?.type === \"maxLength\" && (\r\n                    <span>This field cannot exceed 30 characters</span>\r\n                )}\r\n            </form>\r\n        );\r\n    }","import React from 'react';\r\nimport {addPostActionCreator, updateNewPostTextActionCreator} from \"../../../Redux/profile-reducer\";\r\nimport Posts from \"./Posts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPost) => {\r\n            dispatch(addPostActionCreator(newPost));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(Posts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport ProfileInfo from \"./Posts/ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./Posts/MyPostsContainer\";\r\n\r\n\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile}\r\n                         status={props.status}\r\n                         updateStatus={props.updateStatus}\r\n                         isOwner ={props.isOwner}\r\n                         savePhoto ={props.savePhoto}\r\n                        />\r\n            <MyPostsContainer  />\r\n\r\n        </div>)\r\n}\r\n\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, savePhoto, setUserProfile, updateStatus} from \"../../Redux/profile-reducer\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if ( this.props.match.params.userId !=  prevProps.match.params.userId)\r\n        {\r\n            this.refreshProfile();\r\n        }//–µ—Å–ª–∏ —é–∑–µ—Ä –º–µ–Ω—è–µ—Ç—Å—è —Ç–æ –æ–±–Ω–æ–≤–ª—è–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É profile\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <Profile {...this.props} profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n                     isOwner={!this.props.match.params.userId}\r\n                     savePhoto={this.props.savePhoto}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n\r\n});\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        getUserProfile, getStatus,\r\n        updateStatus, savePhoto\r\n    }),\r\n    withRouter\r\n)(ProfileContainer);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfileInfo_container__kYz53\",\"post\":\"ProfileInfo_post__2HejT\",\"block\":\"ProfileInfo_block__38UwF\",\"about\":\"ProfileInfo_about__3jxPm\",\"status\":\"ProfileInfo_status__3X6K2\",\"overlay\":\"ProfileInfo_overlay__1S4JJ\",\"bigPen\":\"ProfileInfo_bigPen__3lZX7\"};"],"sourceRoot":""}