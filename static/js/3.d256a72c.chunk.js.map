{"version":3,"sources":["components/Profile/Posts/Post/Post.module.css","components/Profile/Posts/Posts.module.css","assets/images/mask.jpg","components/Profile/Posts/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/Posts/ProfileInfo/ProfileInfo.jsx","components/Profile/Posts/Post/Post.jsx","components/Profile/Posts/Posts.jsx","components/Profile/Posts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Profile/Posts/ProfileInfo/ProfileInfo.module.css"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","className","s","about","onDoubleClick","value","autoFocus","onChange","ev","currentTarget","onBlur","updateStatus","ProfileInfo","profile","ava","photos","large","mask","src","fullName","aboutMe","Post","item","message","item__like","count","discount","window","Posts","React","memo","console","log","push","postsElements","posts","reverse","map","p","onSubmit","addPost","newPost","post","NewPostForm","useForm","register","handleSubmit","errors","formState","data","required","maxLength","placeholder","type","MyPostsContainer","connect","state","profilePage","newPostText","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","history","getUserProfile","getStatus","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.d256a72c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1Z1Ru\",\"item__like\":\"Post_item__like__1-Om7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Posts_block__1QzJn\",\"post\":\"Posts_post__3XPuN\",\"content\":\"Posts_content__1XJTm\",\"hookForm\":\"Posts_hookForm__Cm5PY\"};","export default __webpack_public_path__ + \"static/media/mask.cef09c37.jpg\";","import React, {useEffect, useState} from 'react';\r\nimport s from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n    const onStatusChange = (ev) => {\r\n        setStatus(ev.currentTarget.value)\r\n    }\r\n    useEffect(()=> {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    return (\r\n        <div className={s.status}>\r\n            {!editMode &&\r\n            <div>\r\n                  <span className={s.about} onDoubleClick={activateEditMode}>Статус: &nbsp;\r\n                      {props.status||\"-------\"}  </span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input className={s.about} value={status}\r\n                       autoFocus={true} onChange={onStatusChange}\r\n                       onBlur={deactivateEditMode}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../../common/preloader/preloader\";\r\nimport mask from \"./../../../../assets/images/mask.jpg\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus }) => {\r\n    if (!profile) {\r\n        return  <Preloader/>\r\n    }\r\n    const ava = !profile.photos.large? mask: profile.photos.large;\r\n    //подставляю маску вместо аватарки если ее нет у юзера\r\n\r\n    return (\r\n        <div>\r\n\r\n        <img className={s.about} src={ava} />\r\n\r\n            <div className={s.about}>\r\n                Имя:  {profile.fullName}\r\n            </div>\r\n            <div className={s.about}>\r\n               О мне:  {profile.aboutMe}\r\n            </div>\r\n            <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css'\r\n\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={s.item}>\r\n                <img src='https://i.insider.com/5de2ca2b79d7577f925703f2?width=1124&format=jpeg'/>\r\n                {props.message}\r\n            </div>\r\n            <div className={s.item__like}> {props.count} Like\r\n                <span>  {props.discount} Dislike</span>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Post;","    import React from 'react';\r\n    import Post from './Post/Post';\r\n    import s from './Posts.module.css'\r\n    import {useForm} from \"react-hook-form\";\r\n\r\n    window.props = [];\r\n    const Posts = React.memo(props => {\r\n\r\n\r\n        console.log('Render Posts')\r\n        console.log(props)\r\n        window.props.push(props);\r\n\r\n        let postsElements =\r\n            [...props.posts].reverse().map(p => <Post message={p.message} count={p.count} discount={p.discount}/>)\r\n\r\n        let newPostElement = React.createRef();\r\n\r\n\r\n        let addNewPost = (value) => {\r\n            props.addPost(value.newPost);\r\n\r\n        }\r\n\r\n        return (\r\n\r\n            <div>\r\n\r\n                <div>\r\n                    <NewPostForm onSubmit={addNewPost}/>\r\n                </div>\r\n\r\n                <div className={s.post}> New Posts</div>\r\n\r\n                {postsElements}\r\n\r\n            </div>\r\n        )\r\n    });\r\n\r\n    export default Posts;\r\n\r\n\r\n    export const NewPostForm = (props) => {\r\n        console.log('Form Render')\r\n        const {\r\n            register, handleSubmit,\r\n            formState: {errors}\r\n        } = useForm();\r\n        const onSubmit = data => props.onSubmit(data);\r\n        return (\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <input {...register(\"newPost\", {required: true, maxLength: 30}\r\n                )} placeholder=\"enter your post\"/>\r\n                <input type=\"Submit\" value=\"Send Message\"/>\r\n                {errors?.newPost?.type === \"required\" && <span>This field is required</span>}\r\n                {errors?.newPost?.type === \"maxLength\" && (\r\n                    <span>This field cannot exceed 30 characters</span>\r\n                )}\r\n            </form>\r\n        );\r\n    }","import React from 'react';\r\nimport {addPostActionCreator, updateNewPostTextActionCreator} from \"../../../Redux/profile-reducer\";\r\nimport Posts from \"./Posts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPost) => {\r\n            dispatch(addPostActionCreator(newPost));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(Posts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport ProfileInfo from \"./Posts/ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./Posts/MyPostsContainer\";\r\n\r\n\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status}\r\n                         updateStatus={props.updateStatus} />\r\n            <MyPostsContainer  />\r\n\r\n        </div>)\r\n}\r\n\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, setUserProfile, updateStatus} from \"../../Redux/profile-reducer\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if(!userId) {\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth:state.auth.isAuth\r\n\r\n});\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        getUserProfile, getStatus,\r\n        updateStatus\r\n    }),\r\n    withRouter\r\n)(ProfileContainer);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"ProfileInfo_post__3LuEM\",\"block\":\"ProfileInfo_block__LPby2\",\"about\":\"ProfileInfo_about__2NwIA\",\"status\":\"ProfileInfo_status__2kigG\"};"],"sourceRoot":""}