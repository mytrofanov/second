{"version":3,"sources":["components/Users/users.module.css","components/common/paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","Redux/usersSelectors.js","components/Users/UsersContainer.jsx","components/common/paginator/Paginator.module.css"],"names":["module","exports","Paginator","totalUsersCount","currentPage","pageSize","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","className","styles","paginator","pageNumber","onClick","event","totalPages","filter","p","map","selectedPage","nonSelectedPage","User","user","followingInProgress","unfollow","follow","to","id","src","photos","small","userPhoto","usersPhoto","followed","disabled","some","userName","userBlock","name","status","Users","props","users","u","getUsers","state","usersPage","getPageSize","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","this","React","Component","compose","connect","toggleFollowingProgress","requestUsers"],"mappings":"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","file":"static/js/4.7e7e37fe.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"users_usersPhoto__28Ggf\",\"startAndEnd\":\"users_startAndEnd__1zH82\",\"userName\":\"users_userName__3toId\",\"userBlock\":\"users_userBlock__1qKiW\"};","import React, {useState} from \"react\";\r\nimport styles from \"./Paginator.module.css\";\r\n\r\n\r\nlet Paginator = ({totalUsersCount, currentPage, pageSize, onPageChanged, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionCount = Math.ceil(pagesCount/pageSize)\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionNumber = (portionNumber-1) * portionSize + 1;\r\n    let rightPortionNumber = portionNumber*portionSize;\r\n\r\n    return <div className={styles.paginator}>\r\n        <div className={styles.pageNumber}>\r\n                        <span onClick={\r\n                                (event) => {\r\n                                    onPageChanged(1);\r\n                                    setPortionNumber(portionNumber = 1)\r\n                                }}\r\n                            className={styles.totalPages}> ⏮  </span>\r\n            {portionNumber > 1 && <span className={styles.totalPages}\r\n                onClick={()=>{setPortionNumber(portionNumber-1)}}>\r\n                ⏪</span>}\r\n            {pages.filter(p => p >= leftPortionNumber && p<=rightPortionNumber).map((p) => {\r\n                return  <span className={p === currentPage ? styles.selectedPage : styles.nonSelectedPage}\r\n                        onClick={\r\n                            (event) => {\r\n                                onPageChanged(p);\r\n                            }}> {p} </span>\r\n            })}\r\n\r\n            {portionCount > portionNumber && <span className={styles.totalPages}\r\n                onClick={()=>{setPortionNumber(portionNumber+1)}}>\r\n                ⏩</span>}\r\n            <span\r\n                onClick={\r\n                    (event) => {\r\n                        onPageChanged(pagesCount);\r\n                        setPortionNumber(portionNumber = portionCount)\r\n                    }}\r\n                className={styles.totalPages}> ⏭   </span>\r\n        </div>\r\n    </div>\r\n\r\n}\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nlet User = ({user,followingInProgress, unfollow,follow }) => {\r\n\r\n    return (\r\n    <div>\r\n        <span>\r\n            <div>\r\n\r\n                <NavLink to={'/profile/' + user.id}>\r\n                <img src={user.photos.small != null ? user.photos.small : userPhoto} className={styles.usersPhoto}/>\r\n              </NavLink>\r\n            </div>\r\n            <div>\r\n\r\n                {user.followed\r\n                    ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                              onClick={() => {\r\n                                  unfollow(user.id);\r\n                              }}>\r\n                        UnFollow</button>\r\n                    : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                              onClick={() => {\r\n                                  follow(user.id);\r\n                              }}>\r\n                        Follow</button>}\r\n            </div>\r\n        </span>\r\n            <span>\r\n            <span className={styles.userName}>\r\n                <div className={styles.userBlock}>\r\n                <div>{user.name}</div>\r\n                <div>{user.status}</div>\r\n                    </div>\r\n            </span>\r\n\r\n        </span>\r\n        </div>)\r\n\r\n}\r\n\r\n\r\n\r\nexport default User;","import React from \"react\";\r\nimport Paginator from \"../common/paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\n\r\nlet Users = ({currentPage, onPageChanged ,pageSize ,totalUsersCount ,...props}) => {\r\n    return <div>\r\n        <Paginator totalUsersCount={totalUsersCount} pageSize={pageSize}\r\n                   onPageChanged={onPageChanged} currentPage={currentPage}/>\r\n\r\n        {props.users.map(u =>\r\n            <User key={u.id}\r\n                  user={u}\r\n                  followingInProgress={props.followingInProgress}\r\n                  unfollow={props.unfollow}\r\n                  follow={props.follow}\r\n            />\r\n        )\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const totalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    unfollow, toggleFollowingProgress, requestUsers,\r\n} from \"../../Redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/preloader/preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize, getUsers,\r\n    totalUsersCount\r\n} from \"../../Redux/usersSelectors\";\r\n\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        let {currentPage,pageSize } = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        let {pageSize} = this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n\r\n        </>\r\n    }\r\n\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        currentPage: getCurrentPage(state),\r\n        totalUsersCount: totalUsersCount(state),\r\n        isFetching: getIsFetching (state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        follow, unfollow, toggleFollowingProgress, getUsers: requestUsers\r\n    }),\r\n)(UsersContainer);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3uyOD\",\"pageNumber\":\"Paginator_pageNumber__aJHK5\",\"usersPhoto\":\"Paginator_usersPhoto__1NaPy\",\"selectedPage\":\"Paginator_selectedPage__1MCY5\",\"nonSelectedPage\":\"Paginator_nonSelectedPage__25DnA\",\"totalPages\":\"Paginator_totalPages__31zow\"};"],"sourceRoot":""}